<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>如何化身嘉然小姐来参加网课</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E5%A6%82%E4%BD%95%E5%8C%96%E8%BA%AB%E5%98%89%E7%84%B6%E5%B0%8F%E5%A7%90%E6%9D%A5%E5%8F%82%E5%8A%A0%E7%BD%91%E8%AF%BE/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E5%A6%82%E4%BD%95%E5%8C%96%E8%BA%AB%E5%98%89%E7%84%B6%E5%B0%8F%E5%A7%90%E6%9D%A5%E5%8F%82%E5%8A%A0%E7%BD%91%E8%AF%BE/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我们终于开始上网课了，看到网课的摄像头，啊很快啊，一个整活的想法油然而生啊。反手就是一个嘉然小姐，一个面补，我都打出去了，他都防住了，我说对不起我是瞎放的，他说我可不是瞎放的，视频后期，绿幕抠图，虚拟摄像头一看就是有备而来………</p><p>扯远了，关于最终的思想效果，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321141443653.png" alt="image-20220321141443653" style="zoom: 50%;" /></p><blockquote><p>感谢林某爹提高的图片</p></blockquote><h1 id="软件准备和环境说明"><a href="#软件准备和环境说明" class="headerlink" title="软件准备和环境说明"></a>软件准备和环境说明</h1><p>【配置说明】</p><ol><li>Win10操作系统</li><li>vTube studio最新版</li><li>OBS Studio最新版</li><li>腾讯会议</li></ol><h1 id="VTube-studio"><a href="#VTube-studio" class="headerlink" title="VTube studio"></a>VTube studio</h1><h2 id="VTube-studio的安装"><a href="#VTube-studio的安装" class="headerlink" title="VTube studio的安装"></a>VTube studio的安装</h2><p>这个软件是Vtube即2D模型/2.5D模型的运算场景，说人话就是虚拟人物和面部捕捉是在这个软件进行的，首先打开<code>Steam</code>，搜索<code>VTube studio</code>，如下图，选择安装即可</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321143502768.png" alt="image-20220321143502768" style="zoom:60%;" /></p><blockquote><p>如果你的足够有能力的话，可以购买<code>DLC</code>来支持一下该软件</p></blockquote><p>安装完成后，运行<code>VTube studio</code>界面如下图，在进入软件的时候会弹出一堆相关说明，确认即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321144048742.png" alt="image-20220321144048742" style="zoom:67%;" /></p><h2 id="VTube-studio的使用"><a href="#VTube-studio的使用" class="headerlink" title="VTube studio的使用"></a><code>VTube studio</code>的使用</h2><h3 id="模型捕捉绑定"><a href="#模型捕捉绑定" class="headerlink" title="模型捕捉绑定"></a>模型捕捉绑定</h3><p>在安装完成后，进入软件的界面，首先需要记住的是可以<strong>使用双击来唤醒菜单</strong>，关于各个部分的功能如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321145008008.png" alt="image-20220321145008008" style="zoom:67%;" /></p><p>现在你所看到的人物模型是<code>VTube studio</code>自带的模型，你可以在<strong>【人物模型部分】</strong>进行选择其他默认自带的模型或者导入自己的2D模型。现在使用导入【嘉然模型】来做示例，关于模型文件会在文章最后末尾给出，自行下载，点击进入【人物模型部分】按钮后，选择导入模型，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321145313856.png" alt="image-20220321145313856" style="zoom:60%;" /></p><p>在点击导入模型后，会弹出路径提醒，然后将你下载的模型导入到它所指定的文件夹中，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321145437300.png" alt="image-20220321145437300" style="zoom: 67%;" /></p><p>将【嘉然模型】文件导入<code>Live2DModels</code>文件夹，后即可在软件中查看导入的模型，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321145621049.png" alt="image-20220321145621049" style="zoom:67%;" /></p><p>现在点击【设置】，进入设置页面。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321145900945.png" alt="image-20220321145900945" style="zoom:67%;" /></p><p>如果你需要导入自己的一些别的资源，例如背景，贴纸等，可以在【常规设置】中右侧【打开资源文件夹】中导入自己的资源，如果没有这个需求，可以不用管。</p><p>现在直接进入【摄像捕捉设置】中，在右侧栏选择【选择摄像头】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150124713.png" alt="image-20220321150124713" style="zoom: 67%;" /></p><p>在弹出的设置提醒中，选择自己要使用哪个摄像头进行捕捉，如果你的摄像头列表中含有<code>VTubeSudioCam</code>则排除该摄像头，查找并选择其他摄像头，该摄像头是软件的虚拟摄像头。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150244658.png" alt="image-20220321150244658" style="zoom:67%;" /></p><p>剩下的设置，就是默认的第一个即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150424082.png" alt="image-20220321150424082" style="zoom:67%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150444592.png" alt="image-20220321150444592" style="zoom: 80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150510882.png" alt="image-20220321150510882" style="zoom:80%;" /></p><p>设置完成后，可以选择【面部捕捉：开启】开启面部捕捉，如果你的模型支持且你希望进行手部捕捉，则在【捕捉类型】中选择面部捕捉和手部捕捉，在本示例【嘉然模型】中，不存在手部绑骨，即无法进行手部捕捉，默认即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150730936.png" alt="image-20220321150730936" style="zoom:80%;" /></p><p>面部捕捉开启后，你的摄像头会被调用打开，会出现面部捕捉的UI显示，如下图，你可以对着摄像头做面无表情来点击校准来校准表情，使用摄像头捕捉需要注意摄像头尽量正对自己且采光良好。</p><p>这个时候你就会发现你的表情和人物模型的表情和动作映射到一起了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321150846987.png" alt="image-20220321150846987" style="zoom:70%;" /></p><h3 id="虚拟摄像头安装"><a href="#虚拟摄像头安装" class="headerlink" title="虚拟摄像头安装"></a>虚拟摄像头安装</h3><p>在完成人物模型动作表情映射绑定后，现在进行虚拟摄像头的安装，选择【摄像捕捉设置】，滑倒最下面，点击虚拟摄像头安装帮助，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321151332392.png" alt="image-20220321151332392" style="zoom:67%;" /></p><p>然后根据提示选择【打开文件夹】，在文件夹中寻找到<code>Install.bat</code>双击运行，等待安装完成后，关闭控制台即可，如果需要安装失败或者其他错误，可以尝试右键以管理员身份运行<code>Install.bat</code>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321151421727.png" alt="image-20220321151421727" style="zoom:70%;" /></p><p>安装完成后，就可以在【摄像捕捉设置】里【激活虚拟摄像头】，到这一步，所有的<code>VTube studio</code>基本设置已经完成，下面的微调可以跳过。</p><h3 id="其他调整"><a href="#其他调整" class="headerlink" title="其他调整"></a>其他调整</h3><p>对于带眼睛的伙伴来说，会发现模型眨眼的映射和人物模型的眨眼不是很对的上，这个时候就可以在【摄像捕捉设置】中，找到面部配置，将眨眼灵敏度设置到 30 左右即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321151927907.png" alt="image-20220321151927907" style="zoom:67%;" /></p><h1 id="腾讯会议"><a href="#腾讯会议" class="headerlink" title="腾讯会议"></a>腾讯会议</h1><h2 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h2><p>腾讯会议安装，运行不再赘述，打开腾讯会议后，进入【设置】，选择【视频】，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321152437211.png" alt="image-20220321152437211" style="zoom:67%;" /></p><p>然后点击【选择设备】，找到<code>VTubeStudioCam</code>，选择该摄像头，就会出现我们在<code>VTubeStudio</code>的模型环境，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321152605977.png" alt="image-20220321152605977" style="zoom:80%;" /></p><p>在上图中，我框出了蓝色的部分，是需要将其关闭的，默认我记得是打开的，你可以选择将【眼神接触】和【暗场景增强】关闭，或者可以和我一样将其全部关闭。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321152913107.png" alt="image-20220321152913107" style="zoom:67%;" /></p><p>如果你发现该虚拟摄像头的内容曝光过度或者色彩不正之类的问题，则需要选择左侧【虚拟背景和美颜】，将其中的【虚拟背景】【美颜】【滤镜】全部关闭即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321165212823.png" alt="image-20220321165212823" style="zoom:80%;" /></p><p>这样你进入会议的时候开启摄像头就是使用的该虚拟摄像头，虚拟场景中人物映射你的动作和表情，到现在为止，基本的虚拟设置已经完成了，你已经实现了将嘉然带入到课堂中，可以停止阅读关闭本文即可。</p><p>如果你希望探索进阶玩法，请继续向下阅读操作。</p><h1 id="OBS-Studio"><a href="#OBS-Studio" class="headerlink" title="OBS Studio"></a><code>OBS Studio</code></h1><h2 id="前期配置"><a href="#前期配置" class="headerlink" title="前期配置"></a>前期配置</h2><p>在使用<code>OBS Studio</code>之前，需要在<code>VTube studio</code>中将背景替换为<code>Background_8</code>，即绿幕背景，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321162517367.png" alt="image-20220321162517367" style="zoom: 67%;" /></p><p>因为我们后续的进阶操作需要将人物从绿幕中抠出来，然后配合<code>OBS Studio</code>来使用。</p><h2 id="OBS-Studio的使用"><a href="#OBS-Studio的使用" class="headerlink" title="OBS Studio的使用"></a><code>OBS Studio</code>的使用</h2><h3 id="环境基础配置"><a href="#环境基础配置" class="headerlink" title="环境基础配置"></a>环境基础配置</h3><p>关于OBS的下载和安装可以选择<a href="https://obsproject.com/">单击我</a>，进入官网，选择自己的对应的系统下载安装，或者在文本最后我会提供我所使用的版本的安装包，安装完成后，运行，它会弹出一个提醒，如下图，如果你是<code>VTube</code>主播且采用串流推送的方式进行直播，则选择默认第一个【优先优化串流，其次为录像】，如果你是上网课玩玩，则选择第三个【我只使用虚拟摄像机】，然后点击【下一步】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321153523000.png" alt="image-20220321153523000" style="zoom: 80%;" /></p><p>然后，选择【应用设置】即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321160604329.png" alt="image-20220321160604329" style="zoom: 80%;" /></p><p>然后进入了默认的软件设置界面：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321160904649.png" alt="image-20220321160904649" style="zoom: 60%;" /></p><p>现在在【来源框】中，点击【+】（加号），选择【视频采集设备】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321161318916.png" alt="image-20220321161318916" style="zoom:80%;" /></p><p>然后在弹出的选择框可以给该组件重命名或者直接点击【确定】即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321161420013.png" alt="image-20220321161420013" style="zoom:67%;" /></p><p>在弹出的组件设置中，选择【设备】找到【<code>VTubeStudioCam</code>】，选择即可，然后点击【确认】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321161541927.png" alt="image-20220321161541927" style="zoom:80%;" /></p><p>然后这个时候就可以在<code>OBS Studio</code>中看到我们在<code>VTube Studio</code>中的虚拟场景，如下图，接下来扣除绿幕</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321162916135.png" alt="image-20220321162916135" style="zoom: 50%;" /></p><h3 id="绿幕扣除"><a href="#绿幕扣除" class="headerlink" title="绿幕扣除"></a>绿幕扣除</h3><p>选中我们导入的【视频采集设备】，然后点击【滤镜】，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321163301537.png" alt="image-20220321163301537" style="zoom:80%;" /></p><p>然后在弹出的弹窗中，选择【+】增加【色度键】，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321163631717.png" alt="image-20220321163631717" style="zoom: 67%;" /></p><p>然后在弹出弹窗中给该色度键重命名或者直接使用默认确认即可，如下图，软件默认扣除绿色背景，如果需要设置则自行设置更改，目前为止，我们已经完成了绿幕抠图。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321163847606.png" alt="image-20220321163847606" style="zoom: 67%;" /></p><h3 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h3><p>现在我们来增加一张背景图片和文本来实现简单效果，此处添加不做过多赘述。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321164010737.png" alt="image-20220321164010737" style="zoom: 50%;" /></p><p>添加完成后的效果如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321164246312.png" alt="image-20220321164246312" style="zoom: 50%;" /></p><p>如果你发现你添加图片或者内容挡住了一些你不想挡住的内容，如果你学过<code>PS``PR``AE</code>或者<code>PPT</code>的话应该对图层很熟悉，在来源框中，最前面的表示在图层的最上方，根据自己的需求来调整图层位置。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321164441105.png" alt="image-20220321164441105" style="zoom: 80%;" /></p><p>最后一步就是点击右下角的【启动虚拟摄像机】，完成<code>OBS</code>虚拟摄像机配置。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321164538058.png" alt="image-20220321164538058" style="zoom:80%;" /></p><h2 id="腾讯会议-1"><a href="#腾讯会议-1" class="headerlink" title="腾讯会议"></a>腾讯会议</h2><p>现在和前面<code>VTube Studio</code>类似，只需要将【设备】，切换成【<code>OBS Virtual Camera</code>】即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321164730520.png" alt="image-20220321164730520" style="zoom:80%;" /></p><h1 id="最终效果"><a href="#最终效果" class="headerlink" title="最终效果"></a>最终效果</h1><p>我的电脑左侧屏幕放置运行环境，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321165403144.png" alt="image-20220321165403144" style="zoom: 45%;" /></p><p>右侧屏幕会议效果：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321165458686.png" alt="image-20220321165458686" style="zoom: 45%;" /></p><p>别人视角：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220321141443653.png" alt="image-20220321141443653" style="zoom: 50%;" /></p><blockquote><p>再次感谢林某爹提高的图片</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 整活 </tag>
            
            <tag> 虚拟摄像头 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>全方位榨干大疆MINI-SE</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E5%85%A8%E6%96%B9%E4%BD%8D%E6%A6%A8%E5%B9%B2%E5%A4%A7%E7%96%86MINI-SE/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E5%85%A8%E6%96%B9%E4%BD%8D%E6%A6%A8%E5%B9%B2%E5%A4%A7%E7%96%86MINI-SE/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我的无人机到手了，但是购买的是大疆MINI-SE，有些功能想用但是没有办法实现怎么办？我开启了榨干MINI之路。</p><p>基本榨干功能：<strong>全景模式，视觉跟踪，正射影像，倾斜摄影建模，航线规划，环绕摄影</strong>。</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>如下是准备的基本工作，无人机型号同我或者以之上皆可，软件设备等同理。</p><ul><li><strong>无人机型号：大疆MINI-SE</strong></li><li><strong>手机设备：华为P30（HarmonyOS 2.0）</strong></li><li><strong>航点规划软件：Rainbow无人机控制飞行软件（V3.6）</strong></li><li><strong>电脑：Win10（20H2）</strong></li><li><strong>后期软件：Pix4Dmapper（V4.4.12），PS（CC 2018），AE（CC 2018）</strong></li></ul><h1 id="全景模式"><a href="#全景模式" class="headerlink" title="全景模式"></a>全景模式</h1><p>对于<strong>全景模式大疆支持是MINI2及以上才支持一键全景，而MINI-SE是不支持全景的</strong>，但是我们又很想要全景的效果，这个时候就需要手动全景合成了，两种方法：</p><blockquote><p>注：此处全景模式特指的是<strong>球形全景</strong></p></blockquote><h2 id="手动全景合成"><a href="#手动全景合成" class="headerlink" title="手动全景合成"></a>手动全景合成</h2><p>关于手动全景合成可以看这个视频，<a href="https://www.bilibili.com/video/BV1TE411N7SG">【教程】Mini也能做全景图？</a>，此处不做过多说明。</p><p>就我个人认为手动全景可以，但是工作量相对较大，而且不是很精准，<strong>我个人更推荐下面的软件合成+人工后期处理</strong>。</p><h2 id="使用软件来合成"><a href="#使用软件来合成" class="headerlink" title="使用软件来合成"></a>使用软件来合成</h2><p><strong>打开【Rainbow无人机控制飞行软件】，选择全景</strong>：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416105915979.png" alt="image-20220416105915979" style="zoom: 50%;" /></p><p><strong>然后选择【全景设置】，在全景设置中，选择【球形】，在下面的参数中，将【全景清晰度】设置为【高】</strong>：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416110203581.png" alt="image-20220416110203581" style="zoom: 50%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416110452010.png" alt="image-20220416110452010" style="zoom:50%;" /></p><p>然后，点<strong>击左侧【开始】，等待无人机拍摄，结束完成后，点击【下载】，选择要合成的全景图，等待合成</strong>，一般要3-5分钟，因手机和图片质量以及合成参数而异。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416110723305.png" alt="image-20220416110723305" style="zoom:50%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416110757610.png" alt="image-20220416110757610" style="zoom:50%;" /></p><p>下载完成后，可以在软件中浏览全景图片，如下为在软件中预览效果：</p><video controls="controls" src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/SVID_20220416_110842_1.mp4" width="100%"></video><p>你会发现部分地方有些模糊，头顶更是黑了一片，<strong>关于模糊的部分是因为镜头拍摄的时候曝光问题</strong>，需要在拍摄的时候注意曝光，而<strong>头顶黑了一片是因为MINI-SE没办法拍摄头顶图片，这个时候就需要手动“补天”</strong>。如下图为软件初步合成的全景图片：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416111648908.png" alt="image-20220416111648908" style="zoom:80%;" /></p><p>将图片使用PS来手动补天，<strong>补天后的图片输出如下</strong>，可以通过<a href="https://720yun.com/t/9fvkb7pmd1h?scene_id=92363395">点我来预览</a>，所有归属归山东农业大学所有，此处仅做演示说明，<strong>未经授权不可它用</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416111833860.png" alt="image-20220416111833860" style="zoom:80%;" /></p><p>这样就基本实现了一张球形的全景图片，<strong>如果你想要纯手动制作一张全景图片或者希望分享给别人自己拍的全景图片，可以使用<a href="https://720yun.com/">720云</a>网站来制作和分享</strong>。</p><h1 id="正射影像"><a href="#正射影像" class="headerlink" title="正射影像"></a>正射影像</h1><h2 id="什么是正射影像"><a href="#什么是正射影像" class="headerlink" title="什么是正射影像"></a>什么是正射影像</h2><p>正射影像顾名思义：<strong>即通过将无人机的云台成 -90° 方向（镜头正下方）来进行连续拍摄，保证一定的航向重叠率情况下，完成航线拍摄，然后通过后期软件来处理成一张航拍的地区正射影像</strong>。可以想象成地图的样子就是呈现结果。</p><h2 id="开始航拍工作"><a href="#开始航拍工作" class="headerlink" title="开始航拍工作"></a>开始航拍工作</h2><p>首先找一个地方，<strong>选择一片需要正射影像</strong>的地方，此处<strong>示例以山东农业大学南校区正南门一片区域</strong>为正射影像为例，<strong>因为正射影像涉及航测方面的问题，所以示例会做模糊和水印处理</strong>。</p><p>我在早上大概7点20左右拍摄的正射影像，拍摄地区如下卫星图（高德地图）：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416103259680.png" alt="image-20220416103259680" style="zoom:80%;" /></p><p>飞行航线如下图，<strong>具体飞行航线和航拍点是根据飞行高度，即航拍高度决定的</strong>。因为我的MINI-SE只有1200万的像素，所以<strong>我通过降低航拍飞行高度来让我的正射影像结果更清晰一些</strong>，同样的，<strong>随着航拍高度的降低航线和航点，拍摄的正射图片也会增加，也就是说正射完成的耗时更长</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416103403378.png" alt="image-20220416103403378" style="zoom: 50%;" /></p><p>我一共拍摄了130张正射影像，然后<strong>将图像导入到Pix4Dmapper软件中</strong>，进行处理，<strong>如果没有特殊需求，一路默认下去，然后在如下选择中选择第一个【3D Maps】，点击下一步即可，然后等待漫长解析</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416112830021.png" alt="image-20220416112830021" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416113020209.png" alt="image-20220416113020209" style="zoom:80%;" /></p><p>解析完成后，<strong>会在相关的项目文件夹中生成相关文件以及质量报告</strong>，项目文件如下：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416113134308.png" alt="image-20220416113134308" style="zoom:80%;" /></p><ul><li><strong>1_initial：包含质量报告和相关图像基本信息</strong></li><li><strong>2_densification：包含3D点云以及相关3D模型</strong></li><li><strong>3_dsm_ortho：包含正射影像文件和DSM文件等</strong></li><li><strong>temp：临时文件（不需要管）</strong></li><li><strong>Test.log：项目日志（不需要管）</strong></li></ul><p>在如下路径可以找到<strong>项目生成的质量报告</strong>：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416113953015.png" alt="image-20220416113953015" style="zoom:80%;" /></p><p>在如下路径可以找到<strong>正射影像文件和DSM文件</strong>：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416114128730.png" alt="image-20220416114128730" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416114051155.png" alt="image-20220416114051155" style="zoom:80%;" /></p><p>在如下路径可以找到生成的<strong>模型文件</strong>：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416114217754.png" alt="image-20220416114217754" style="zoom:80%;" /></p><p>如下为我拍摄最后生成的正射影像和DSM图像，最终归属为山东农业大学，未经允许不可它用。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416114919521.png" alt="image-20220416114919521" style="zoom:80%;" /></p><h1 id="倾斜摄影"><a href="#倾斜摄影" class="headerlink" title="倾斜摄影"></a>倾斜摄影</h1><p>倾斜摄影和正射影像同理，也需要<strong>使用Pix4Dmapper</strong>，将相关倾斜摄影图片导入项目中，在遇到下列选项中<strong>选择【3D Models】</strong>，然后等待解析生成质量报告。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416164918800.png" alt="image-20220416164918800" style="zoom:80%;" /></p><p>如下是我倾斜摄影的航线，我选择了很小的一块地方，所以相对图片和时间上少很多。可以看到，<strong>倾斜摄影会飞5条航线，分别是上下左右（东南西北）的倾斜摄影和一条中间的正射影像</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416165051015.png" alt="image-20220416165051015" style="zoom: 67%;" /></p><p>等待质量报告出来，解析完成后，<strong>在文件夹【1_initial】中可以找到质量报告，在文件夹【2_densification】中可以找到相关的3D模型</strong>。如下是相关模型的GIF：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/_001.gif" alt="image-20220416165051015" style="zoom: 80%;" /></p><p>因为大疆MINI-SE的像素只有1200万，所以可以尝试将飞行高度降低，来增加航点来提升最终模型质量。</p><h1 id="视觉跟踪"><a href="#视觉跟踪" class="headerlink" title="视觉跟踪"></a>视觉跟踪</h1><p>因为大疆MINI-SE没有内置硬件图形加速相关，所以<strong>此处的视觉跟踪是基于软件的图像识别，使用<code>Rainbow无人机控制软件</code>，选择【视觉跟踪】</strong>，然后框选需要跟踪的对象，剩下的交给图像识别。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416174154442.png" alt="image-20220416174154442" style="zoom:50%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416174214906.png" alt="image-20220416174214906" style="zoom:50%;" /></p><p>需要注意的是，<strong>因为是基于图像识别的，所以它对于控制的手机有一定的性能要求</strong>，当然你也可以在其设置中选择低精度识别，不过同理识别精度会差很多。另外还需要注意的是，这个功能更加建议在空旷的场景或者有人看着的情况下使用，<strong>因为大疆MINI-SE没有视觉避障，所以存在炸机的风险</strong>。</p><p>视觉跟踪效果如下：</p><video controls="controls" src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/DJI_0908.mp4" width="100%"></video><h1 id="环绕摄影"><a href="#环绕摄影" class="headerlink" title="环绕摄影"></a>环绕摄影</h1><p>环绕摄影通俗理解就是无人机围绕某个点画圆，由于新手很难画出一个比较完整的圆形，又需要这个功能，这个时候就需要<code>Rainbow无人机控制软件</code>来使用【环绕】功能。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416181900530.png" alt="image-20220416181900530" style="zoom:50%;" /></p><p>具体使用方法不多解释，举一反三。</p><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1><p>最后的想法是可以利用无人机摄影+后期来实现如右侧的同款赛博朋克效果<a href="https://www.bilibili.com/video/BV1F54y1y78E/?spm_id_from=333.788.recommend_more_video.1">长安大学【赛博朋克】</a>。看我有没有的时间来弄吧。就这样。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220416182427906.png" alt="image-20220416182427906" style="zoom: 67%;" /></p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正射影像 </tag>
            
            <tag> 倾斜摄影 </tag>
            
            <tag> 全景模式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于我人生第一台无人机</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E6%88%91%E4%BA%BA%E7%94%9F%E7%AC%AC%E4%B8%80%E5%8F%B0%E6%97%A0%E4%BA%BA%E6%9C%BA/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E6%88%91%E4%BA%BA%E7%94%9F%E7%AC%AC%E4%B8%80%E5%8F%B0%E6%97%A0%E4%BA%BA%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我快忘记我什么时候有了买无人机的念头了，我记得最近思考这个问题是今年过年的时候，也就是寒假的时候，我也快忘记我当时想的什么了，在4月1日下单购买了<strong>我人生中第一台无人机——大疆MINI SE</strong>，如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412205834391.png" alt="image-20220412205834391" style="zoom:80%;" /></p><h1 id="关于购买和使用感受"><a href="#关于购买和使用感受" class="headerlink" title="关于购买和使用感受"></a>关于购买和使用感受</h1><p>我买的是大疆截至目前写文章时最便宜的无人机，单机只需要1999，它采用的是增强WIFI图传，1200万像素，不支持变焦，从价格角度来说这是一个相对便宜的入门级无人机，从使用感官来说，WIFI图传的确不是很友好，不过对于这个价格来说，2000块钱要什么自行车。</p><p>综合来说在这个价位作为一款入门级大疆无人机，已经是非常不错了，我本人在校园测试，如果高度在100m及以上，水平可以拉锯500m起步，我拉了500m就没有再拉距。</p><p>一些无人机的问题：</p><p>【无人机FCC是什么？要不要弄】</p><p>如下图，图片内容版权归原作者所有，此处仅作引用说明，侵删。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412212716380.png" alt="image-20220412212716380" style="zoom:67%;" /></p><p>通俗来说就是一种不同国家对于信号频率的限制，而FCC，即美国的标准可以让我们的无人机图传信号和距离更远更稳定，相对来说会增加一定的耗电量，关于要不要弄，我目前人是很懒的，能不动手就不动手，所以我没弄。</p><p>【WIFI图传怎么样？】</p><p>我只能说郊区效果还可以，市区我见过100m没信号的，市内干扰太大了，所以我个人建议预算充足的情况下，加1000买mini 2吧。</p><p>【有没有什么办法增强信号？】</p><p>要么改遥控器和无人机，要么购买相关增强天线，至于相关增强天线是否真的有用，我持有保留意见，因为我买的还在路上，不知道，他们飞友说是有一定的用的。</p><h1 id="关于一些我随手拍的图片"><a href="#关于一些我随手拍的图片" class="headerlink" title="关于一些我随手拍的图片"></a>关于一些我随手拍的图片</h1><p>最近人也变懒了，图片就传一些，其他带宽有限，我也不想通过这种方式来呈现所有图片，所以就看看吧。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213339393.png" alt="image-20220412213339393" style="zoom: 80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213407831.png" alt="image-20220412213407831" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213426277.png" alt="image-20220412213426277" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213440238.png" alt="image-20220412213440238" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213456454.png" alt="image-20220412213456454" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213511286.png" alt="image-20220412213511286" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213528566.png" alt="image-20220412213528566" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213543998.png" alt="image-20220412213543998" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213559702.png" alt="image-20220412213559702" style="zoom:80%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412213614440.png" alt="image-20220412213614440" style="zoom:80%;" /></p><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1><p><strong>卡密萨马，给我再多一点时间让我掌握最后的正射拍摄和倾斜摄影吧！！！</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220412212559668.png" alt="image-20220412212559668" style="zoom:50%;" /></p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 无人机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于网站搭建那些事（下）</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E9%82%A3%E4%BA%9B%E4%BA%8B%EF%BC%88%E4%B8%8B%EF%BC%89/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E9%82%A3%E4%BA%9B%E4%BA%8B%EF%BC%88%E4%B8%8B%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这部分是建立在网站服务器搭建完成的基础上改造而来的，如果不知道如何网站搭建，可以查看<a href="https://helloseraphine.top/index.php/archives/168.html">关于网站搭建那些事（上）</a>。</p><p>这部分就是<strong>SSL部署，对象存储和CDN加速，WAF以及小部分代码改造</strong>部分的指南了，前面网站搭建的文章里解释了<strong>DNS，IP，域名以及服务器的搭建</strong>的相关内容，此处不做赘述。</p><p><strong>关于所有内容都是在我当前博客实现或者实现过的功能，该博客建立——以此纪念我的大学生活</strong></p><h1 id="SSL部署"><a href="#SSL部署" class="headerlink" title="SSL部署"></a>SSL部署</h1><h2 id="什么是SSL？"><a href="#什么是SSL？" class="headerlink" title="什么是SSL？"></a>什么是SSL？</h2><p>老规矩先解释这是个什么东西，以下斜体定义引用自百度百科：</p><p><em>SSL(Secure Sockets Layer <a href="https://baike.baidu.com/item/安全套接字协议">安全套接字协议</a>),及其继任者<a href="https://baike.baidu.com/item/传输层安全">传输层安全</a>（Transport Layer Security，TLS）是为<a href="https://baike.baidu.com/item/网络通信/9636548">网络通信</a>提供安全及<a href="https://baike.baidu.com/item/数据完整性/110071">数据完整性</a>的一种安全协议。TLS与SSL在<a href="https://baike.baidu.com/item/传输层/4329536">传输层</a>与<a href="https://baike.baidu.com/item/应用层/16412033">应用层</a>之间对网络连接进行加密。</em></p><p>定义依旧很学术，<strong>通俗来理解：SSL提供了安全访问保护</strong>。对于成功部署SSL的网站，在网站网址左侧会有一把小锁表示安全，如下图（图示浏览器为谷歌浏览器）：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224212715945.png" alt="image-20220224212715945" style="zoom:150%;" /></p><h2 id="SSL证书申请"><a href="#SSL证书申请" class="headerlink" title="SSL证书申请"></a>SSL证书申请</h2><h3 id="SSL证书提供商"><a href="#SSL证书提供商" class="headerlink" title="SSL证书提供商"></a>SSL证书提供商</h3><p>SSL有收费的和免费，此处仅演示免费版，SSL证书分为单域名SSL证书，和泛域名SSL证书，关于两者的区别，可以参考这个文章<a href="https://jingyan.baidu.com/article/ad310e80992f5a5849f49ed6.html">单域名SSL证书和泛域名SSL证书之间的区别</a></p><p>因为是免费的，没得挑，就是单域名SSL证书，申请服务商：</p><ul><li><a href="https://console.cloud.tencent.com/certoverview">腾讯云SSL证书</a></li><li><a href="https://yundun.console.aliyun.com/?spm=5176.12818093.ProductAndService--ali--widget-home-product-recent.dre9.12d216d0yYAj17&amp;p=cas#/overview/cn-hangzhou">阿里云SSL证书</a></li></ul><ol><li><p><a href="https://console.cloud.tencent.com/certoverview">腾讯云SSL证书</a></p><p>我网站使用的SSL证书就是腾讯云免费申请的，有效期一年，SSL到期了再来申请即可，SSL申请部署以腾讯云为实例，其他服务商类比</p></li><li><p><a href="https://yundun.console.aliyun.com/?spm=5176.12818093.ProductAndService--ali--widget-home-product-recent.dre9.12d216d0yYAj17&amp;p=cas#/overview/cn-hangzhou">阿里云SSL证书</a></p><p>没申请过，不清楚</p></li></ol><h3 id="申请SSL证书"><a href="#申请SSL证书" class="headerlink" title="申请SSL证书"></a>申请SSL证书</h3><ol><li><p><strong>进入腾讯云SSL证书控制台</strong>，在左侧选择<strong>我的证书</strong>，然后<strong>【选择 申请免费证书】</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224213634777.png" alt="image-20220224213634777" style="zoom:67%;" /></p></li><li><p>然后弹出证书选择，选择默认即可</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224213816184.png" alt="image-20220224213816184" style="zoom:50%;" /></p></li><li><p>然后<strong>进入证书申请</strong>页面，填写相关域名和资料，按自己需求和内容填写即可</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224213906041.png" alt="image-20220224213906041" style="zoom:67%;" /></p></li><li><p>最后提交等待审核即可，审核一般隔天吧，记不太清楚了，审核通过之后，就可以在<strong>我的证书</strong>页面中看到审核通过的SSL证书，到这里SSL证书申请完成。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224214047022.png" alt="image-20220224214047022" style="zoom:150%;" /></p></li></ol><h3 id="部署SSL证书"><a href="#部署SSL证书" class="headerlink" title="部署SSL证书"></a>部署SSL证书</h3><p>我在<a href="https://helloseraphine.top/index.php/archives/168.html">关于网站搭建那些事（上）</a>中说明了我的网站服务器使用的是阿里云的轻量应用服务器。它是基于<strong>LNMP</strong>网站架构，关于LNMP的说明，以下斜体内容引用百度百科：</p><p><strong>*LNMP</strong>是指一组通常一起使用来运行动态网站或者服务器的自由软件名称首字母缩写。L指Linux，N指Nginx，M一般指MySQL，也可以指MariaDB，P一般指PHP，也可以指Perl或Python。*</p><p>所以，这部分部署步骤实例，是基于Nginx服务器的，其他服务器自行查询部署方法：</p><ol><li><p>首先下载之前申请的SSL证书到本地，<strong>下载的时候，选择对应的服务器</strong>，此处选择 Nginx</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224214942925.png" alt="image-20220224214942925" style="zoom:67%;" /></p></li><li><p>下载完成后，解压到本地，会得到如下的文件</p><p><strong>.crt：证书文件（公钥）</strong></p><p><strong>.pem：证书文件（安装时可忽略）</strong></p><p><strong>.key：私钥</strong></p><p><strong>.csr：CSR文件（安装时可忽略）</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224215121684.png" alt="image-20220224215121684" style="zoom:80%;" /></p></li><li><p>使用远程登录工具，例如WinSCP，<strong>将证书文件（公钥）和私钥文件上传到 Nginx 服务器的 <code>/usr/local/nginx/conf</code> 目录（一般 Nginx 默认安装目录）下</strong>。</p><p><strong>需要注意的是：阿里云轻量应用服务器，起码我这个它的服务器文件目录十分杂乱（ <code>:(</code> 差评），所以你往往找不到这个目录，或者该目录不存在</strong>，如果出现了我说的这两种情况请使用如下方法：</p><ul><li><p>使用其他远程工具或者阿里云轻量应用服务器网页版的控制台，输入如下Linux命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis nginx</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224220455104.png" alt="image-20220224220455104" style="zoom:150%;" /></p><p>然后根据命令查找到的目录，使用WinSCP工具，<strong>查找文件目录下是否含有<code>nginx.conf</code>文件，如果存在，则是该目录</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224220941410.png" alt="image-20220224220941410" style="zoom:67%;" /></p></li></ul></li><li><p><strong>然后在该目录下，创建名称为<code>cert</code>的文件，将下载的证书文件上传到该文件夹中。</strong></p></li><li><p>然后打开<code>nginx.conf</code>文件，里面最下面一部分的代码内容如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Settings <span class="keyword">for</span> a TLS enabled server.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#    server &#123;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       listen       443 ssl http2;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       listen       [::]:443 ssl http2;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       server_name  _;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       root         xxxx这里是你网站的根目录;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#        ssl_certificate &quot;/etc/pki/nginx/server.crt&quot;;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       ssl_certificate_key <span class="string">&quot;/etc/pki/nginx/private/server.key&quot;</span>;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       ssl_session_cache shared:SSL:1m;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       ssl_session_timeout  10m;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       ssl_ciphers PROFILE=SYSTEM;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       ssl_prefer_server_ciphers on;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#        # Load configuration files for the default server block.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       include /etc/nginx/default.d/*.conf;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#        error_page 404 /404.html;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">           location = /40x.html &#123;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       &#125;</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#        error_page 500 502 503 504 /50x.html;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">           location = /50x.html &#123;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">       &#125;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   &#125;</span></span><br></pre></td></tr></table></figure><p>可以使用下面的代码示例来替换上面代码的位置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen       443 ssl http2;</span><br><span class="line">listen       [::]:443 ssl http2;</span><br><span class="line">server_name  这里填绑定证书的域名;</span><br><span class="line">root         这里填你网站的根目录;</span><br><span class="line"></span><br><span class="line">ssl_certificate &quot;这里填写SSL证书文件里的.scr文件的路径&quot;;</span><br><span class="line">ssl_certificate_key &quot;这里填写SSL证书文件里.key路径&quot;;</span><br><span class="line">ssl_session_cache shared:SSL:1m;</span><br><span class="line">ssl_session_timeout  10m;</span><br><span class="line">ssl_ciphers PROFILE=SYSTEM;</span><br><span class="line">ssl_prefer_server_ciphers on;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Load configuration files <span class="keyword">for</span> the default server block.</span></span><br><span class="line">include /etc/nginx/default.d/*.conf;</span><br><span class="line"></span><br><span class="line">error_page 404 /404.html;</span><br><span class="line">location = /40x.html &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">error_page 500 502 503 504 /50x.html;</span><br><span class="line">location = /50x.html &#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>如果你希望<strong>设置强制HTTP请求自动跳转HTTPS</strong>。则在上述代码前面添加如下代码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 这里写你证书绑定的域名;</span><br><span class="line">    rewrite ^(.*)$ https://$host$1; #将所有HTTP请求通过rewrite指令重定向到HTTPS。</span><br><span class="line">    location / &#123;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>测试，访问，网址栏左侧出现一把小锁，则配置成功</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224223553931.png" alt="image-20220224223553931" style="zoom:150%;" /></p></li></ol><h1 id="对象存储"><a href="#对象存储" class="headerlink" title="对象存储"></a>对象存储</h1><h2 id="什么是对象存储？"><a href="#什么是对象存储？" class="headerlink" title="什么是对象存储？"></a>什么是对象存储？</h2><p>老规矩先解释这是个什么东西。以下斜体定义引自百度百科：</p><p><em>对象存储是用来描述解决和处理离散单元的方法的通用术语。对象在一个层结构中不会再有层级结构，是以扩展元数据为特征的。</em></p><p>很不幸，这个定义说的很学术，看的人云里雾里，通俗来说就是：<strong>对象存储可以实现将指定文件生成对应直链</strong>。举一个例子，我想要在文章里插入一个图片，这个时候，就需要给文章的图片指定一个地址，这个地址就是图片的直链，借用HTML代码来展示</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//图片语法格式示例</span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;some_text&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>url</code>：就是需要提高图片的地址</li><li><code>alt</code>：是对这张图片的描述</li></ul><p>可以看到，这个图片的地址，就是需要提供图片的直链<strong>，类似于我们在Word里插入图片也要提供图片位置，唯一不同的是文件的地址表现形式不同，在网络上文件的地址表示是<code>url</code>的形式</strong>。</p><h2 id="对象存储有什么用？"><a href="#对象存储有什么用？" class="headerlink" title="对象存储有什么用？"></a>对象存储有什么用？</h2><p>一般情况下，对于入门级或者一些配置低的服务器会存在带宽低的问题，低带宽带来的致命缺陷就是超长的加载时间，对于常规的文本可以忽略不记，有句话叫做：代码是最不占空间的东西，网站提供的服务中，多媒体图片，音频，视频的资源往往是带宽的瓶颈。例如腾讯云的学生优惠服务器：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224171200715.png" alt="image-20220224171200715" style="zoom:60%;" /></p><p>这个是我弄服务器的时候的套餐了，现在似乎是不支持了，有新版的套餐了。我记得当时是 99/年，可以续费三次，价格很便宜，可以明显的看到这个套餐的配置，属于是入门级别的，可以稍微玩玩，要命的是它的带宽只有 1Mbps，这是一个什么概念呢，$1/8 = 0.125$（MB），这是计算的理论速度，由于路由分发和各种问题，实际速度80k左右大概。对于一个图片，如果图片大小是 0.8 （MB），那么预计8秒才可以加载完成，或许这个速度放在20年前没有任何问题，但是对于现在来说，超过3秒的加载以及足以让人有些焦灼了。</p><p>国内服务器现状，空间不值钱，但是带宽翻一倍，价格翻两倍，所以带宽由贵由重要，有没有什么更好的解决方案？那就是对象存储，在早期的网站是将所有资源放在网站服务器上，所有资源文件同网站共享一个带宽，很容易被带宽掐脖子，对象存储提供了自定义文件的直链，就可以跳出网站服务器的限制，因为你的资源（图片，音频，视频）放在了对象存储的库中了，使用的是对象存储提供商提供的带宽。</p><p>这样将你网站的图片，视频，音频上传到对象存储上，获取文件对应的直链，直接在博客网站中引用，就实现了资源分离，也解决了加载的带宽问题。</p><p>使用对象存储可以解决：</p><ol><li>图片加载问题，图片可以很快加载</li><li>音频播放问题，音频歌曲可以顺畅播放</li><li>视频播放问题，甚至4K+的流媒体在线播放</li></ol><h2 id="对象存储的使用示例"><a href="#对象存储的使用示例" class="headerlink" title="对象存储的使用示例"></a>对象存储的使用示例</h2><h3 id="对象存储服务商推荐-amp-个人见解"><a href="#对象存储服务商推荐-amp-个人见解" class="headerlink" title="对象存储服务商推荐&amp;个人见解"></a>对象存储服务商推荐&amp;个人见解</h3><ul><li><a href="https://cloud.tencent.com/product/cos">腾讯云的COS</a></li><li><a href="https://www.aliyun.com/product/oss?spm=5176.19720258.J_8058803260.33.e9392c4a8qw2OR">阿里云的OSS</a></li><li><a href="https://www.upyun.com/products/file-storage">又拍云的USS</a></li><li><a href="https://www.huaweicloud.com/product/obs.html">华为云的OBS</a></li></ul><p>当然还有移动云，电信云，联通云等等的对象存储产品。</p><blockquote><p>关于它们提供的对象存储服务的名字不一样，但是用法都是通用的</p></blockquote><ol><li><p><a href="https://cloud.tencent.com/product/cos">腾讯云的COS</a></p><p>我目前用的就是腾讯云的COS，你可以通过体验我的网站视频，音频，图片的加载速度和相关体验来对腾讯云的对象存储有大概的了解。</p><p>腾讯云的优点：老牌稳定，带宽可以，价格很可以接受。</p><p>【需要付费】关于价格我大概如下说明一下：</p><p>腾讯云定期搞活动，全年活动无休，无非是优惠力度大小问题，对于学生和新用户优惠力度更大，建议购买前先去腾云最新活动页面看看属于新用户的优惠，很值的，我就是错过了这个新用户活动。关于具体的优惠活动不做多解释。</p><p>COS 的收费可以分为：存储空间和外网下行流量。</p><blockquote><p>该收费标准是通用的，阿里云，又拍云等对象存储服务商大致是这个收费标准</p></blockquote><p>存储空间很容易理解，花钱买空间，外围下行流量的意思是文件生成的直链，被别人访问的时候（也就是加载文件）所消耗的流量，例如：上面说的图片，如果图片30KB，则在对象存储上占用30KB的存储空间，如果别人访问网站需要加载这个图片，则消耗对应大小的外网下行流量来实现加载。</p><p>我的存储空间白嫖的活动，【1元/1年】50GB的存储空间，外网下行流量是单买的流量包，价格我记得大概是【3.6元/10 GB/月】，当然也有优惠活动，对于老用户过年的时候有个活动是【84元/100GB/月】，100GB对于个人博客而言，属于那种往死里用都管够的那种，还是很值的。</p></li><li><p><a href="https://www.aliyun.com/product/oss?spm=5176.19720258.J_8058803260.33.e9392c4a8qw2OR">阿里云的OSS</a></p><p>阿里云我没用过，但是我看过它们的收费标准，阿里云的对象存储外网下行流量包最低起步是 100GB/月，这样价格就起来了，100GB太多了对于一般网站，所以有些多余，自行根据需求选择。</p><p>至于阿里云OSS的使用效果如何，请自行体验</p></li><li><p><a href="https://www.upyun.com/products/file-storage">又拍云的USS</a></p><p>又拍云有个好处，它提供开发者又拍云联盟计划，你需要在你的网站下面引用又拍云提供对象存储技术支持相关文字和链接，这样它每月提供15GB的流量和10GB的存储空间。</p><p>通俗来说，就是稍微在你的网站打一下广告，你可以获得每月15GB的流量和一共10GB的存储空间，这真的很诱人，一度让我尝试去申请，不过，由于我以及使用了COS，转移数据过于麻烦等一系列原因，最终没有选择使用，对于想要白嫖的玩家来说，这是个很不错的选择。</p><blockquote><p>点击查看<a href="https://www.upyun.com/league">又拍云联盟计划活动</a></p></blockquote><p>至于又拍云的使用效果如何，可以参考这个博客<a href="https://keymoe.com/">Sanakeyの小站</a></p></li><li><p><a href="https://www.huaweicloud.com/product/obs.html">华为云的OBS</a></p><p>华为云没用过，我也没看过它的收费标准和使用效果，只是一己私利支持一下华为（狗是不是该给我广告费）</p></li></ol><h3 id="腾讯云对象存储（COS）使用指南"><a href="#腾讯云对象存储（COS）使用指南" class="headerlink" title="腾讯云对象存储（COS）使用指南"></a>腾讯云对象存储（COS）使用指南</h3><p>因为我目前使用的就是腾讯云的对象存储，所以只提供腾讯云的对象存储的使用指南，其他服务商的对象存储服务，自行查找或者参考相关文档。</p><h4 id="存储桶的创建"><a href="#存储桶的创建" class="headerlink" title="存储桶的创建"></a>存储桶的创建</h4><ol><li><p>首先<strong>【进入<a href="https://console.cloud.tencent.com/cos">腾讯云对象存储的控制台</a>】</strong>，在<strong>左侧</strong>一栏<strong>【选择存储桶列表】</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224185119735.png" alt="image-20220224185119735" style="zoom:67%;" /></p></li><li><p><strong>选择【创建存储桶】</strong>，然后弹出来存储桶创建的窗口，根据下面的选择自己的需求，然后<strong>【点击下一步】</strong></p><p><strong>所在地域</strong>：可以默认，也可以选择一共距离自己目前位置较近的位置。如果想要访问的快一些，就选择距离自己近一些的地域。</p><p><strong>名称</strong>：自定义名称，随意</p><p><strong>访问权限</strong>：默认私有读写即可，特殊需求除外</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224185334651.png" alt="image-20220224185334651" style="zoom:67%;" /></p></li><li><p>在<strong>高级可选配置</strong>中，没特殊需求，默认即可，<strong>然后【点击下一步】</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224192106362.png" alt="image-20220224192106362" style="zoom:67%;" /></p></li><li><p>最后在<strong>确认配置页面</strong>，<strong>【点击创建】</strong>即可，这就完成了存储桶的创建（即存储空间，可以理解为云硬盘）</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224192251443.png" alt="image-20220224192251443" style="zoom:67%;" /></p></li><li><p>创建完成后，就可以在<strong>存储桶列表</strong>中看见自己刚刚创建的存储桶了</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224192414204.png" alt="image-20220224192414204" style="zoom:67%;" /></p></li></ol><h4 id="对象存储基本使用"><a href="#对象存储基本使用" class="headerlink" title="对象存储基本使用"></a>对象存储基本使用</h4><p>在创建完成存储桶之后，就可以上传指定文件到存储桶中，生成对应的文件直链了，此处举例如下图，我上传了张图片：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224192738882.png" alt="image-20220224192738882" style="zoom:150%;" /></p><p>然后点击图片的详情，进入文件的详情页面，就可以看到该文件的直链了：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224192916835.png" alt="image-20220224192916835" style="zoom:80%;" /></p><p>有了这个直链你就可以直接在网络引用该图片，同样的音频，视频也同理。</p><blockquote><p>需要注意的是，默认腾讯云存储桶存在一个生命周期规则，将其删除即可，具体原因我后面再专门写一部分对象存储的内容，基本的对象存储使用到这里就完成了。</p></blockquote><h4 id="对象存储的第三方调用和开发"><a href="#对象存储的第三方调用和开发" class="headerlink" title="对象存储的第三方调用和开发"></a>对象存储的第三方调用和开发</h4><p>如果需要使用对象存储进行软件开发或者其他需要对接的接口等，参考文档：腾讯云提供的<a href="https://cloud.tencent.com/document/product/436/6474">对象存储文档</a>。</p><h1 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h1><h2 id="什么是CDN？"><a href="#什么是CDN？" class="headerlink" title="什么是CDN？"></a>什么是CDN？</h2><p>老规矩先解释定义，斜体引用百度百科的定义：</p><p><em>CDN的全称是Content Delivery Network，即<a href="https://baike.baidu.com/item/内容分发网络/4034265">内容分发网络</a>。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。</em></p><p>依旧是比较学术的定义，看的人一头雾水，<strong>通俗理解为：CDN通过多个加速节点来实现网站访问加速</strong>。虽然看起来我解释的不是很通俗易懂，这里需要插播一下 CDN 技术原理，推荐这个视频</p><ul><li><a href="https://www.bilibili.com/video/av211739167">CDN:一定要会用的网站加速方法</a></li></ul><p>或者看我的简单描述：</p><p>首先，要明白网站是怎么访问的，简述来说：用户通过域名访问网站服务器，网站服务器将网站的相关文件发送给你（或者理解为你下载了网站的相关文件），然后通过你本地的浏览器，将接受（下载）的网站相关文件解析，呈现出来的过程。</p><p>在有了上述的理解之后，需要明白，每个访问网站的用户的实际地理位置是不同的，而网站服务器的位置是固定的，也就是说，存在着如果访问的用户地理位置距离服务器地理位置很近则访问速度会更快的情况，因为距离越远，路由中继转发也就越多，耗时越长。</p><p>所以，为了提高访问速度，CDN提供了一套解决方案：在全国不同位置建立 N 个结点，将网站服务器的静态资源文件拷贝到对应的不同结点上，在用户访问的时候，优先将距离用户最近的结点的网站静态文件传输过去，这样提高了网站的加载速度和访问速度。</p><blockquote><p>关于啥是静态资源文件，理解为基本不会改变的资源文件，例如图片，音频，相关文件等我们上传了就基本不会再做二次修改了（主要是看你怎么理解这个基本不修改）</p></blockquote><h2 id="CDN的使用示例"><a href="#CDN的使用示例" class="headerlink" title="CDN的使用示例"></a>CDN的使用示例</h2><p>老规矩，先看看有那些服务商提供CDN服务，并挑选一个</p><h3 id="CDN服务商推荐-amp-个人见解"><a href="#CDN服务商推荐-amp-个人见解" class="headerlink" title="CDN服务商推荐&amp;个人见解"></a>CDN服务商推荐&amp;个人见解</h3><ul><li><a href="https://console.cloud.tencent.com/cdn">腾讯云CDN</a></li><li><a href="https://cdn.console.aliyun.com/overview">阿里云CDN</a></li><li><a href="https://www.upyun.com/products/cdn">又拍云CDN</a></li><li><a href="https://www.huaweicloud.com/product/cdn.html">华为云CDN</a></li></ul><ol><li><p><a href="https://console.cloud.tencent.com/cdn">腾讯云CDN</a></p><p>我没用过，大致看了一下，我很喜欢腾讯云活动的频繁程度和优惠程度相比于阿里云好一些，价格两者CDN差不多，但是腾讯云的活动稍微多一些，但是从CDN的结点数量和分发能力上来说，稍微弱于阿里云CDN，具体效果的自行查找相关网站或者文档</p></li><li><p><a href="https://cdn.console.aliyun.com/overview">阿里云CDN</a></p><p>我目前使用的就是阿里云CDN，阿里云的产品有个好处就是有客服，纯小白也可以靠客服的指引来学习和配置。阿里云CDN的结点目前应该是国内最多也是最大的了，因为我的服务器也在阿里云，所以就购买并配置了阿里云CDN。具体效果，你通过访问<a href="https://helloseraphine.top/">Seraphineの小窝</a>来体验。</p></li><li><p><a href="https://www.upyun.com/products/cdn">又拍云CDN</a></p><p>又拍云的CDN也是比较有名的，不过我没用过，也不了解，具体价格和使用方法自行查看官网，使用效果查看这个网站：<a href="https://keymoe.com/">Sanakeyの小站</a></p></li><li><p><a href="https://www.huaweicloud.com/product/cdn.html">华为云CDN</a></p><p>老规矩，又是我的一己私利，个人放着推荐</p></li></ol><h3 id="阿里云-DCDN-使用指南"><a href="#阿里云-DCDN-使用指南" class="headerlink" title="阿里云 DCDN 使用指南"></a>阿里云 DCDN 使用指南</h3><p>如果你足够细心，会发现这里变成了DCDN，是我打错了吗？NO，CDN的变种：CDN、SCDN、DCDN。具体区别：可以参考这个文章<a href="https://www.vpsss.net/12947.html">SLB CDN SCDN DCDN区别在哪？如何选择？</a>。</p><blockquote><p>配置CDN前提，要有网站且已备案（国内）</p></blockquote><p>DCDN中文名称：全站加速，你可以理解为CDN的升级版，如此理解即可。</p><ol><li><p>首先<strong>访问<a href="https://dcdn.console.aliyun.com/?spm=5176.11785003.app_menu.5.6402142fYmRp9f#/overview">阿里云全站加速控制台</a></strong>，在<strong>右侧，域名数量处，选择【管理】</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224201618935.png" alt="image-20220224201618935" style="zoom:67%;" /></p></li><li><p>在<strong>域名管理页面</strong>，<strong>选择【添加域名】</strong>，进入域名添加页面</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224201735577.png" alt="image-20220224201735577" style="zoom:80%;" /></p></li><li><p>进入<strong>添加域名</strong>页面，配置内容如下，添加完成后，<strong>【选择下一步】</strong></p><p><strong>加速域名</strong>：你要加速的域名，例如我希望别通过www.域名访问的时候CDN加速访问，就填www.域名</p><p><strong>资源分组</strong>：默认分组即可</p><p><strong>加速区域</strong>：中国内地即可</p><p><strong>源站信息</strong>：<strong>【点击新增源站信息】</strong>，根据弹出窗口内容提示填写，类型：我使用的IP：填写服务器的公网IP即可；没有多个服务器源站优先级：默认【主】即可；权重同理默认即可；<strong>端口需要注意一下：如果网站配置了SSL证书，就选择443端口，反之，则默认80端口即可</strong>（划重点）。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224204608796.png" alt="image-20220224204608796" style="zoom: 67%;" /></p></li><li><p>完成后弹出添加成功提醒，然后<strong>【点击 配置CNAME】</strong></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224205429744.png" alt="image-20220224205429744" style="zoom:67%;" /></p></li><li><p>然后在<strong>域名管理</strong>页面，查看创建的加速域名并复制其CNAME</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224205655913.png" alt="image-20220224205655913" style="zoom:150%;" /></p></li><li><p><strong>复制对应CNAME后，找到你购买域名时的服务商，进入域名解析页面设置</strong>，例如我使用的腾讯云的DNSPod；</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224210022432.png" alt="image-20220224210022432" style="zoom:80%;" /></p><blockquote><p>需要注意的是，添加解析的时候，需要先将原有的对应的 A 记录解析暂停或者删除，例如：我的加速域名是www.域名，而我之前存在对应的 www 记录的其他记录（一般是 A 记录），那么就需要将该记录暂停或者删除</p></blockquote></li><li><p><strong>【点击 添加记录后】</strong>，需要做以下修改填写，然后保存即可</p><p><strong>主机记录</strong>：添加你加速域名的主机记录，例如我加速的www.域名，则主机记录为<code>wwww</code></p><p><strong>记录类型</strong>：<strong>选择<code>CNAME</code>(必须是)</strong></p><p><strong>记录值</strong>：就是之前在阿里云DCDN控制台生成的<code>CNAME</code>值，复制粘贴进入即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224210347736.png" alt="image-20220224210347736" style="zoom:150%;" /></p><blockquote><p>需要注意的是修改DNS解析，因为TTL默认设置是600秒，即10分钟，所以有时候需要等待5-10分钟才会设置成功</p></blockquote></li><li><p>完成上述DNS解析配置后，返回DCDN控制台，<strong>稍微等待一下，刷新一下或者鼠标放在等待配置的叹号上，打开配置向导，手动检测CNAME配置状态</strong>。配置成功后如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224211104663.png" alt="image-20220224211104663" style="zoom: 67%;" /></p></li><li><p><strong>到这步，如果你的网站没有配置SSL就结束了</strong>。你<strong>可以使用Win系统的<code>CMD</code> <code>Ping</code>一下你的加速域名</strong>，<strong>如果返回的值不是你的公网IP而是一个含有<code>kunlun.com</code>的字符串就说明配置完成了</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224211412580.png" alt="image-20220224211412580" style="zoom:67%;" /></p></li><li><p><strong>如果你的网站部署了SSL，那么你需要注意的是：你的源站信息里的端口一定要是 443 之前强调过的。然后在左侧栏找到【HTTPS配置点击进入】</strong>，开启HTTPS安全加速</p><p><strong>HTTPS安全加速</strong>：开启的时候因为是收费的，所以会询问你是否开启，自行选择，如果不开启，则没必要看下去了</p><p><strong>证书来源</strong>：根据实际情况选择，我的证书是腾讯云免费申请的SSL证书，所以我选择的是自定义上传</p><p><strong>证书（公钥）/（私钥）</strong>：根据申请的SSL证书，找到相关文件，以<code>txt</code>格式打开，复制内容粘贴即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224211759797.png" alt="image-20220224211759797" style="zoom:67%;" /></p><p>HTTPS配置完成后，可以在强制跳转中选择，是否强制跳转访问方式，例如强制HTTPS访问。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220224212153850.png" alt="image-20220224212153850" style="zoom:67%;" /></p></li></ol><p>到现在，基本上DCDN基本配置完成了，剩下的就是根据需求设置和调整了。</p><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p>部分内容写的相对捡漏，还有一些后续的配置调试等没有细写，关于一些原理实现等也没有细写，主要是写下如何正确配置步骤，一来可以给新入门的伙伴帮助，二来给我自己记一份笔记，以备不时之需。</p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网站搭建 </tag>
            
            <tag> 对象存储 </tag>
            
            <tag> SSL </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于网站搭建那些事（上）</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E9%82%A3%E4%BA%9B%E4%BA%8B%EF%BC%88%E4%B8%8A%EF%BC%89/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E9%82%A3%E4%BA%9B%E4%BA%8B%EF%BC%88%E4%B8%8A%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>文章最后更新于 2021-11-19 21:01:31 星期五 ，部分内容可能与现在不符，请自行判断</p></blockquote><h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>之前购买的服务器商说是要给我们提供长期免费的带宽和服务器，但是我感觉它要跑路了，再加上该服务器商数据的不稳定性，综合决定要网站搬迁，前排踩坑提醒（<strong>不要轻易购买零度空间的服务器或者其他产品</strong>）,当时购买的时候是看上了它的香港IP，这样我就可以免去国内备案的麻烦事。</p><p>如今不得不购买国内的相关服务器来进行网站搬迁，新网站域名 <a href="http://helloseraphine.top/">helloseraphine.top</a>,暂时还在备案中，无法通过域名访问,可以通过公网IP来访问 <a href="http://120.76.134.66/">120.76.134.66</a></p><p>目前服务器和数据库在阿里云，对象存储域名解析在腾讯云，年维护费用100左右（排除人工成本）</p><p>为了避免更多的小伙伴踩坑，写下个人博客网站建设教程来帮助后面的小伙伴</p><h1 id="网站基础知识"><a href="#网站基础知识" class="headerlink" title="网站基础知识"></a>网站基础知识</h1><p>在开始建站之前需要了解一些基础知识：</p><ol><li><strong>带宽：带宽可以通俗的理解为网速，即别人访问你的网站，你的网站能和它互动的网速</strong></li><li><strong>服务器：可以通俗理解为功能偏向于大规模计算应用方面的电脑，记住它也是电脑，不要觉得服务器和电脑差异很大</strong></li><li><strong>数据库：存储数据的地方，类似于Excel，但是功能强大与其，可以理解为加强强强强版Excel，其他感兴趣的去学习数据库基础</strong></li><li><strong>公网IP：只有公网IP才可以被外界直接访问到，平时用到的网络都是局域网，这也就是为什么计算机网络讨论IP不够用了，但是我们依旧用的很好，不够用是因为公网IP是有限的，其他的详细知识感兴趣去学习计算机网络</strong></li></ol><p>网站可以分为<strong>静态网站</strong>和<strong>动态网站</strong>两种，静态网站顾名思义是静态的，它一般是HTML直接静态加载，通俗来讲上面有什么内容就是什么内容，没有所谓的评论，登录，更新文章之类的，就是不存在后期部分内容更新的，当然要更新也可以，需要更新HTML文件，覆盖源文件来实现，成本最低，但是不能直接用作个人博客，这部分内容不涉及静态网站如果建设，后面会新开一个文章来说明</p><p>绝大部分情况下，我们所见到的网站都是动态网站，一个动态网站需要服务器，数据库和一个公网IP，服务器来存放网站文件和各种计算处理，数据库调用存储写入各种网站数据，公网IP是供外界访问。</p><h1 id="服务商选择"><a href="#服务商选择" class="headerlink" title="服务商选择"></a>服务商选择</h1><p>目前只建议三种选择：<strong>1.<a href="https://www.aliyun.com/">阿里云</a> 2.<a href="https://cloud.tencent.com/">腾讯云</a> 3.自己手动从硬件搭建</strong></p><p>其他选择例如：华为云，移动云等从长远和费用来考虑，建议不要轻易选择<br>该教程目前使用阿里云来示例建站，腾讯云同理，两者相同</p><h2 id="【1】产品选择以及购买"><a href="#【1】产品选择以及购买" class="headerlink" title="【1】产品选择以及购买"></a>【1】产品选择以及购买</h2><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20211117204019.png" width="100%"><p>打开阿里云首页后，会有很多选择,目前仅推荐两个，云服务器ECS和轻量应用服务器，概念普及：</p><p><strong>云服务器ECS：标准的服务器，购买的价格相对较贵（有学生优惠，我记得是99/年），买的是一整个服务器实例</strong></p><p><strong>轻量应用服务器：轻量级，价格相对便宜（一般活动价格例如双十一也就60左右/年），买的是一个直接给搭建好镜像的系统，只能干些小事情，例建站等</strong></p><p>此处选择轻量应用服务器，轻量应用服务器建站优点：</p><ol><li>便宜，比云服务器便宜很多</li><li>快速上手，该产品已经提前按照我们购买的选择，搭建好了相关镜像，省去了云服务器需要手动搭建各种网站数据库等的环境</li><li>带宽高，性能相对好同价格下，对于轻量级应用服务器的带宽5M起步，而学生价的云服务器才1M</li></ol><blockquote><p>带宽计算规则，带宽/8=网速，例如1M/8约等于128kb的网速，这还只是理论速度</p></blockquote><p>然后，通过相关活动专场购买，例如现在的 <a href="https://www.aliyun.com/activity/1111/ecs?spm=5176.161059.J_5253785160.2.2c07a505OUI2nx">双十一服务器专场</a></p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-17_20-52-32.jpg" width="90%"><p>然后进入专场，选择对应的产品</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-17_20-56-13.jpg" width="90%"><p>地区选择距离自己目前所在地近一点的，当然默认的也可以，国内基本不影响</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-17_21-01-09.jpg" width="90%"><p>镜像可以选择，WordPress或者Typecho，两个都是博客框架，<strong>个人更加推荐WordPress</strong></p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-17_21-03-56.jpg" width="90%"><p>剩下的都是默认的就好，选择购买，支付，然后返回轻量应用服务器的控制台即可</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-17_21-07-56.jpg" width="90%"><h2 id="【2】轻量级服务器控制台"><a href="#【2】轻量级服务器控制台" class="headerlink" title="【2】轻量级服务器控制台"></a>【2】轻量级服务器控制台</h2><p>选择购买的轻量服务器，进入控制台管理页面.</p><p>在该页面可以看到服务器流量，内存，CPU情况，续费情况，服务器镜像，公网IP等等一系列重要的信息，其中最直接有用的信息是：</p><ul><li><strong>流量：每个月1000GB的流量，如果超出是会按量计费，不过对于个人博客这个流量足够足够用了</strong></li><li><strong>公网IP：这个是我们后面连接服务器，访问服务器的直接IP</strong></li></ul><p>如果是刚刚购买的轻量级服务器，那么域名部分，你是没有绑定的，你需要购买域名并解析域名到你的公网IP上。在国内建站还需要进行备案，<strong>国内除了服务器在香港地区的无须备案，其他都需要备案。</strong></p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-12-42.jpg" width="100%"><h2 id="【3】域名注册与解析"><a href="#【3】域名注册与解析" class="headerlink" title="【3】域名注册与解析"></a>【3】域名注册与解析</h2><p>首先需要解释一下什么是域名，为什么要域名。</p><ul><li>什么是域名？<br>例如：<a href="https://www.baidu.com/">baidu.com</a> 就是一个域名，<a href="https://www.bilibili.com/">bilibili.com</a> 也是一个域名</li><li>为什么要域名？<br>在一开始互联网通信，每个参与通信的电脑需要具备一个公网IP这样就可以被其他计算机访问到，网站的原理就是别人通过你的公网IP来访问你服务器（电脑）的网页文件，他访问你的网页实际上是从你服务器（电脑）上下载你的网页文件，然后在本地浏览器上解析显示来的。<br>在知道这些后，那么别人想要访问你的网站，就需要输入你的公网IP来直接访问，但是有一个问题，公网IP是一串无规律的数字，总不能让每个上网的人记住每一个网站的数字吧，这样的体验是灾难性的。为了解决这个问题，引入了一个中间服务器，在该服务器上专门记录了一列按照一定格式自定义的域名和一列对应的公网IP地址，这样人们访问网站的时候只需要记住相对好记的域名，而后面的工作则是计算机访问DNS来获取公网IP，然后浏览器再通过公网IP来访问网站。只不过这些都在后台被计算机隐藏了，让用户更加专注于网上冲浪。</li></ul><p><strong>域名注册，就是自定义域名的方法，而域名解析就是将你购买的域名映射到你的公网IP的过程。</strong></p><p>国内域名购买，目前综合考虑也是只在这里推荐两个：<strong><a href="https://dnspod.cloud.tencent.com/domain/buy">腾讯云域名注册</a> 或者 <a href="https://wanwang.aliyun.com/domain/yumingheji">阿里云域名注册</a></strong><br>此处举例：腾讯云域名注册</p><ol><li><p>首先进入<a href="https://dnspod.cloud.tencent.com/domain/buy">腾讯云域名注册</a>页面，例如：</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-34-58.jpg" width="100%"></li><li><p>然后将自己给自己网站起的域名输入并点击搜索，例如我现在起个名字叫：SDAUceshi,然后点击查询</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-37-56.jpg" width="100%"></li><li><p>然后在里面挑选价格和域名合适的，自己顺眼的也可以，加入购物车，支付，此处不做演示你可以很清楚的了解到，<strong>域名可以大致拆分为分为 <code>域名+后缀</code>，不过不要误解，域名是这个整合的整体，此处拆分是便于理解</strong></p></li><li><p>在域名注册（购买）完成后，进入域名控制台，可以看到你购买的域名</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-43-38.jpg" width="100%"></li><li><p>然后选择需要解析的域名，点击 <code>解析</code>，进入域名解析页面</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-48-05.jpg" width="100%"><p>上图中，红框部分是一开始默认存在的，蓝框部分我自己后来添加的解析，如果是刚刚购买的域名，则只有上面两个红框部分</p></li><li><p>添加解析，点击添加解析，弹出一行如下图:</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_20-52-03.jpg" width="100%"><p>主机记录，常见的值：</p></li></ol><ul><li><p><strong><code>www</code>：常见主机记录，将域名解析为 www.自定义域名.后缀</strong></p></li><li><p><strong><code>@</code>：直接解析主域名 自定义域名.后缀</strong></p></li><li><p><strong><code>mail</code>：将域名解析为 mail.自定义域名.后缀，通常用于邮件服务</strong></p></li><li><p><strong><code>*</code>：泛解析，匹配其他所有域名 *.自定义域名.后缀</strong><br>上面的综合来理解就是，在你输入域名访问的时候，如果你添加了www解析，那么你在输入www.自定义域名.后缀 就可以直接访问到你的网站，而输入sss.自定义域名.后缀 就访问不了你的网站，因为你没有添加sss解析，同理@解析的意思是，你可以不输入前缀，例如我直接不输入www，直接输入自定义域名.后缀 也是可以解析到网站的，综上所述，以此类推<br>记录值为，你服务器的公网IP。<br>其余不了解一律默认即可<br>如果觉得自己不能自主选择解析方式，那么你可以就添加我的两种解析，如下如图：</p></li></ul><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-00-25.jpg" width="100%"><p>在添加完域名解析后，这样就完成了域名注册和解析，这个时候就可以通过域名来访问网站了，而不是通过输入一串难记的数字来访问，因为国内建站需要备案，所以还需要备案这一步，这一步暂时不做说明，自行百度或者看腾讯云/阿里云的相关文档</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-03-37.jpg" width="90%"><h2 id="【4】网站搭建"><a href="#【4】网站搭建" class="headerlink" title="【4】网站搭建"></a>【4】网站搭建</h2><p>现在回到轻量级应用服务器控制台，选择应用详情,按照阿里云给的提示一步一步走下去</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-08-11.jpg" width="80%"><p>其中重要的是三个地方，一个是镜像的账户密码，一个是数据库的账户密码，这两个可以根据阿里云的提示自行获取，如下图：</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-14-46.jpg" width="100%"><p>第三个重要的地方是在 服务器运维-&gt;远程连接，设置服务器SSH连接的密码</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-17-07.jpg" width="80%"><p>在完成上面的账户密码获取和设置后，我们需要做两个事情，第一个事情是访问服务器，即直接访问服务器的文件，这样我们可以完成对服务器的文件的删除上传等操作，第二个事情是访问数据库，这样我们可以对数据库后期操作，或者之前有网站的，通过将备份的数据导入数据库来实现网站搬迁。</p><h3 id="服务器远程连接"><a href="#服务器远程连接" class="headerlink" title="服务器远程连接"></a>服务器远程连接</h3><ol><li><p>我们需要一个软件，这里推荐 <strong><a href="https://winscp.net/eng/docs/lang:chs">WinSCP</a></strong> ,选择自己的系统平台，下载，安装。运行后是这个样子：</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-29-52.jpg" width="100%"></li><li><p>输入对应的账户密码后点击登录</p><p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-31-26.jpg" width="40%"></p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-32-14.jpg" width="90%"></li><li><p>找到我之前说的网站目录文件位置，这就是你的网站根目录，后期你需要在网站调试，插件上传，附件操作，模板上传等等一系列文件操作都需要先找到网站目录，即网站在服务器中的位置</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-34-41.jpg" width="90%"><p>好的，现在实现了对服务器的远程连接，后续可以通过这个方法来实现对服务器文件的操作</p></li></ol><h3 id="数据库远程连接"><a href="#数据库远程连接" class="headerlink" title="数据库远程连接"></a>数据库远程连接</h3><p>一般来说，如果你是第一次建站，是不需要进行这一步的，因为在你建站完成的时候，数据库自动和网站建立连接了，无须你手动调试或者更改，但是如果你需要导入你之前网站的数据，则需要连接数据库，对数据库进行操作。如果第一次建站可以忽略这一步，或者后面需要连接数据库再回来看该方法。</p><ol><li>连接数据库，我们也需要一个软件，这里推荐 <strong><a href="https://www.navicat.com.cn/">Navicat</a></strong>,下载，安装，运行后如下图：</li></ol><blockquote><p>注：该软件收费，所以自行下载破解版，破解教程自行百度</p></blockquote><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-45-21.jpg" width="100%"><ol><li><p>现在来新建一个MySQL连接，选择如图：</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-47-35.jpg" width="30%"></li><li><p>点击新建MySql连接后，如下图：</p><image src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-18_21-50-57.jpg" width="70%" ></li></ol><ul><li>连接名：可以随意起，起一个能让你知道这个连接是连接哪个数据库的名称</li><li>主机：可以使用默认的 <code>localhost</code> ，也可以使用前面阿里云给的数据库地址 <code>127.0.0.1</code> ，注意，阿里云提供的地址，加上了端口，即有个 <code>:3306</code>，</li></ul><blockquote><p>localhost 和 <code>127.0.0.1</code> 都是表示本地数据库的地址，两者不同在于localhost不会进过网卡，而127.0.0.1会经过网卡，再回到本地数据库</p></blockquote><ul><li>端口：使用默认的3306即可</li><li><p>用户名：就是你数据库的用户名</p></li><li><p>密码：数据库的密码</p></li></ul><p>1.然后选择SSH，进入SSH配置页面</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-19_20-38-38.jpg" width="70%" style="zoom:50%;" ></p><ul><li><strong>主机：即轻量级应用服务器的公网IP地址</strong></li><li>端口：使用默认的22</li><li>用户名&amp;密码：就是你设置的用户名和密码</li></ul><p>2.然后测试连接，弹出连接成功，则完成数据库的远程连接，剩下就是数据库的操作不做说明<br><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/Seraphine_All/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E9%82%A3%E4%BA%9B%E4%BA%8B/Snipaste_2021-11-19_20-47-57.jpg" width="50%"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>经过上面的操作，就对轻量级应用服务器的连接操作和基本配置完成了。</p><p>对于一般的网站来说，网页内容和网站框架是分开来存放的，举一个简单的例子，网站的基础框架是放在我们的 <code>www</code> 根目录下的，但是我们在网站上面的发布的博客文章和相关的图片，文件等一般情况下是要放在另一个地方。这样可以让功能分离，也不会要求网站服务器的带宽过高。</p><p>对于附件，文件，图片等的存放地址，网站一般会额外购买对象存储来满足带宽，管理等的综合要求。</p><p>关于对象存储，博客框架的调试等，我会再出一个教程来说明。</p><blockquote><p><a href="https://helloseraphine.top/index.php/archives/487.html">关于网站搭建那些事（下）</a>已更新</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网站搭建 </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式</title>
      <link href="/HelloSeraphine.io/2022/05/22/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/HelloSeraphine.io/2022/05/22/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>正则表达式是去年夏天我就想说明的东西了，不过一直鸽到现在，这部分将会记录正则表达式的基本语法以及一个C#应用实例。</p><p>关于正则表达式学习个人的相关推荐：</p><ul><li><a href="https://github.com/ziishaned/learn-regex">learn-regex</a></li><li><a href="https://www.runoob.com/regexp/regexp-tutorial.html">正则表达式 - 教程</a></li><li><a href="https://www.bilibili.com/video/BV1da4y1p7iZ">10分钟快速掌握正则表达式</a></li></ul><p>关于正则表达式测试的网站：</p><ul><li><a href="https://regexr.com/">RegExr</a></li><li><a href="https://regex101.com/">Regulex</a></li></ul><p>关于正则表达式在线生成工具（1/2不表示排名）：</p><ul><li><a href="http://tools.jb51.net/regex/create_reg">正则表达式在线生成工具1</a></li><li><a href="https://tool.chinaz.com/tools/regexgenerate">正则表达式在线生成工具2</a></li></ul><h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p>关于正则表达式百度百科的定义如下</p><p><strong>*正则表达式</strong>，又称规则表达式<strong>。</strong>（英语：Regular Expression，在代码中常简写为regex、regexp或RE），<a href="https://baike.baidu.com/item/计算机科学/9132">计算机科学</a>的一个概念。正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。*</p><p>通俗来说，就是我们常用的Word搜索功能的加强版，它可以通过特定的语法格式来实现文本搜索（匹配），来满足我们期望找到的文本。</p><blockquote><p> Regular expression（正则表达式）这个词比较拗口，常使用缩写的术语“regex”或“regexp”</p></blockquote><h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><h2 id="基本匹配"><a href="#基本匹配" class="headerlink" title="基本匹配"></a>基本匹配</h2><p><strong>正则表达式的基本匹配是我们常规的搜索类型，即所见即所得</strong>，例如：输入<code>love</code>，则匹配到所有包含该字符的字符串。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227183506406.png" alt="image-20220227183506406" style="zoom: 80%;" /></p><p><strong>正则表达式是大小写敏感的</strong>，所以，如果输入<code>Love</code>，它不会匹配上图结果</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227183634232.png" alt="image-20220227183634232" style="zoom:80%;" /></p><blockquote><p>关于图中在输入表达式前面<code>/</code>符号的意义，后面会解释，默认我们输入正则表达式的格式为<code>/这里是我们输入的正则表达式/g</code>。</p></blockquote><h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><p>正则表达式由元字符构成。元字符可以理解为正则表达式控制查找字符串规则的字符，它们具有一定的含义，类似于代码中<code>if</code>表示的是如果的意思。关于一些常规元字符的解释：</p><div class="table-container"><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td><code>.</code></td><td>句号匹配任意单个字符除了换行符。</td></tr><tr><td><code>[]</code></td><td>字符种类。匹配方括号内的任意字符。</td></tr><tr><td><code>[^]</code></td><td>否定的字符种类。匹配除了方括号里的任意字符</td></tr><tr><td><code>*</code></td><td>匹配 $\geq 0$个重复的在<code>*</code>号之前的字符。</td></tr><tr><td><code>+</code></td><td>匹配 $\geq 1$个重复的<code>+</code>号前的字符。</td></tr><tr><td><code>?</code></td><td>标记<code>?</code>之前的字符为可选.</td></tr><tr><td><code>&#123;n,m&#125;</code></td><td>匹配 num个大括号之前的字符或字符集 ( $n \leq num \leq m$ ).</td></tr><tr><td><code>(xyz)</code></td><td>字符集，匹配与 xyz 完全相等的字符串.</td></tr><tr><td>`</td><td>`</td><td>或运算符，匹配符号前或后的字符.</td></tr><tr><td><code>\</code></td><td>转义字符，用于匹配一些保留的字符 `[ ] ( ) { } . * + ? ^ $ \</td><td>`</td></tr><tr><td><code>^</code></td><td>从开始行开始匹配.</td></tr><tr><td><code>$</code></td><td>从末端开始匹配.</td></tr></tbody></table></div><h3 id="点运算符"><a href="#点运算符" class="headerlink" title="点运算符."></a>点运算符<code>.</code></h3><p><strong><code>.</code>运算符是一个任意字符的占位符（除换行符）</strong>，例如：<code>.ve</code>表示匹配三个字符（<code>.</code>表示任意字符的占位符），以任意字符开头的且后面跟着<code>ve</code>字符的字符。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227185302789.png" alt="image-20220227185302789" style="zoom:80%;" /></p><h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><p>字符集表示的是字符的集合，它通过使用方括号(<code>[]</code>)来表示一个字符集。通过在<code>[]</code>中输入字符来表示匹配字符范围，需要注意的是：方括号中不关心其字符顺序，例如：<code>[a-z]</code>表示的意思是匹配字符集中小写字母<code>a</code>到<code>z</code>的所有字符。如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227185650629.png" alt="image-20220227185650629" style="zoom:80%;" /></p><p><code>-</code>表示两者的区间，同样的你也可以使用<code>[A-Z]</code>表示所有大写字母<code>A</code>到<code>z</code>的所有字符，或者<code>[0-9]</code>表示所有数值。再例如：<code>[Ll]ove</code>，表示的匹配<code>Love</code>或者<code>love</code>字符，因为<code>l</code>和<code>L</code>字符在字符集中，所以结果：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227185956260.png" alt="image-20220227185956260" style="zoom:80%;" /></p><h3 id="否定字符集"><a href="#否定字符集" class="headerlink" title="否定字符集"></a>否定字符集</h3><p>否定字符集的意思可以通过<code>^</code>来表示不包含字符集中某些字符，例如：<code>[^L]ove</code>表示的意思是不匹配以大写字符<code>L</code>开头且其后跟着字符<code>ove</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227190249907.png" alt="image-20220227190249907" style="zoom:80%;" /></p><blockquote><p>需要注意的是字符<code>^</code>如果包含在字符集<code>[]</code>中，则其含义是不同的，例如：<code>[^L]</code>和<code>^L</code>的含义是不同的。</p></blockquote><h3 id="重复次数"><a href="#重复次数" class="headerlink" title="重复次数"></a>重复次数</h3><p>元字符<code>*</code>，<code>?</code>，<code>+</code>表示的是对字符出现次数的限制。</p><ul><li><p><strong>元字符<code>*</code></strong></p><p><strong><code>*</code>表示的是匹配在<code>*</code>号之前的字符的出现次数大于等于0次的字符</strong>。例如：<code>a*love</code>表示的意思匹配所有<code>a</code>字符开头且其出现次数大于等于0次，且后面跟着<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227191311560.png" alt="image-20220227191311560" style="zoom:80%;" /></p></li><li><p><strong>元字符<code>+</code></strong></p><p><strong><code>+</code>表示的是匹配在<code>+</code>号之前的字符出现次数大于或者等于1次的字符</strong>。例如：<code>a+love</code>表示的意思是匹配所有以<code>a</code>字符开头的且<code>a</code>字符的出现次数大于等于1次，且后面跟着<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227192149840.png" alt="image-20220227192149840" style="zoom:80%;" /></p></li><li><p><strong>元字符<code>?</code></strong></p><p><strong><code>?</code>表示的是匹配在<code>?</code>之前的字符出现的次数为 1 次或者 0 次的字符</strong>。例如：<code>a?love</code>表示的意思是匹配所有以字符<code>a</code>出现次数为 0 或者 1 次开头的，且其后面跟随<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227192412963.png" alt="image-20220227192412963" style="zoom:80%;" /></p></li></ul><h3 id=""><a href="#" class="headerlink" title="{}"></a><code>&#123;&#125;</code></h3><p><strong><code>&#123;&#125;</code>表示的是匹配其前面字符指定的出现次数</strong>。例如：<code>a&#123;1,2&#125;love</code>表示的意思是匹配以<code>a</code>字符开始的且<code>a</code>字符的出现次数为 1 次或者 2次的，且其后面跟着<code>love</code>字符的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227192708702.png" alt="image-20220227192708702" style="zoom:80%;" /></p><h3 id="特征标记群"><a href="#特征标记群" class="headerlink" title="(...)特征标记群"></a><code>(...)</code>特征标记群</h3><p><strong><code>()</code>表示的是在<code>()</code>里的字符是一个组合</strong>。这样描述不是很直观，如上述示例：<code>a&#123;1,2&#125;love</code>，表示的<code>a</code>字符的出现次数是 1 次或者 2次，但是如果我们希望<code>ab</code>字符出现的次数是 1 次或者 2次就会很棘手，或许有的伙伴认为可以这样：<code>a&#123;1,2&#125;b&#123;1,2&#125;love</code>，示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227193247291.png" alt="image-20220227193247291" style="zoom:80%;" /></p><p>实际上，可以看到第三行的字符<code>abablove</code>也是我们想要匹配的字符，而不是第四行的<code>aabblove</code>字符。这个时候就需要使用特征标记群，例如：<code>(ab)&#123;1,2&#125;love</code>，表示的意思是以字符群<code>ab</code>开始的且其出现次数为 1 次或者 2 次，且其后面跟着字符<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227193510915.png" alt="image-20220227193510915" style="zoom:80%;" /></p><h3 id="或运算符"><a href="#或运算符" class="headerlink" title="|或运算符"></a><code>|</code>或运算符</h3><p>同一般的计算机语言，<strong><code>|</code>表示或者</strong>。例如：<code>(L|l)ove</code>表示匹配以<code>L</code>或者<code>l</code>开头的，且其后跟着<code>ove</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227193812583.png" alt="image-20220227193812583" style="zoom:80%;" /></p><h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h3><p>有的时候我们希望匹配的特殊字符是正则表达式的元字符之类的字符，例如我们希望匹配<code>.</code>字符，如果不使用转义字符，则默认被识别为正则表达式的<code>.</code>元字符来处理。所以<strong>我们需要使用<code>\</code>来表示转义字符，其后面跟的字符表示转义我们要使用的字符</strong>。例如：<code>\.love</code>表示匹配以<code>.</code>开始且后跟着<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227194152045.png" alt="image-20220227194152045" style="zoom:80%;" /></p><p>同理，其他字符也是，例如：<code>\[</code>表示匹配字符<code>[</code>，<code>\+</code>表示匹配字符<code>+</code>等等。</p><h3 id="锚点"><a href="#锚点" class="headerlink" title="锚点"></a>锚点</h3><p><strong>如果我们希望专门匹配一段文字的开头和末尾的特定字符就离不开锚点</strong>。</p><ul><li><p><strong><code>^</code>开头锚点</strong></p><p><code>^</code>表示开头锚点。例如：<code>^(T|l)ove</code>表示匹配在一段文字的开头其字符为<code>Love</code>或者<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227194902124.png" alt="image-20220227194902124" style="zoom:80%;" /></p><p>需要注意的是<strong>锚点，在不改变匹配规则的情况下，默认只匹配一段文字的开头和末尾字符串</strong>。例如下图，即使第一个字符不匹配，也不会匹配到第二个字符</p><blockquote><p>关于什么是匹配规则，下面的部分会说明</p></blockquote><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227195118609.png" alt="image-20220227195118609" style="zoom:80%;" /></p></li><li><p><strong><code>$</code>结尾锚点</strong></p><p>结尾锚点也同理，<strong>只匹配$$`前面字符与一段文字的最后一个字符串比较</strong>。例如：<code>love$$，表示匹配一段位置最后一个字符串是否包含</code>love`字符。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227195516194.png" alt="image-20220227195516194" style="zoom:80%;" /></p></li></ul><h3 id="简写字符集"><a href="#简写字符集" class="headerlink" title="简写字符集"></a>简写字符集</h3><p>对于一些常用的字符集，例如<code>[a-z]</code>，<code>[A-Z]</code>，<code>[0-9]</code>等字符集，官方做了整合，使用如下简单字符表达式来表示该公式：</p><div class="table-container"><table><thead><tr><th>简写</th><th>描述</th></tr></thead><tbody><tr><td><code>.</code></td><td>除换行符外的所有字符</td></tr><tr><td><code>\w</code></td><td>匹配所有字母数字，等同于 <code>[a-zA-Z0-9_]</code></td></tr><tr><td><code>\W</code></td><td>匹配所有非字母数字，即符号，等同于： <code>[^\w]</code></td></tr><tr><td><code>\d</code></td><td>匹配数字： <code>[0-9]</code></td></tr><tr><td><code>\D</code></td><td>匹配非数字： <code>[^\d]</code></td></tr><tr><td><code>\s</code></td><td>匹配所有空格字符，等同于： <code>[\t\n\f\r\p&#123;Z&#125;]</code></td></tr><tr><td><code>\S</code></td><td>匹配所有非空格字符： <code>[^\s]</code></td></tr><tr><td><code>\f</code></td><td>匹配一个换页符</td></tr><tr><td><code>\n</code></td><td>匹配一个换行符</td></tr><tr><td><code>\r</code></td><td>匹配一个回车符</td></tr><tr><td><code>\t</code></td><td>匹配一个制表符</td></tr><tr><td><code>\v</code></td><td>匹配一个垂直制表符</td></tr><tr><td><code>\p</code></td><td>匹配 CRLF（等同于 <code>\r\n</code>），用来匹配 DOS 行终止符</td></tr></tbody></table></div><h2 id="零宽度断言（前后预查）"><a href="#零宽度断言（前后预查）" class="headerlink" title="零宽度断言（前后预查）"></a>零宽度断言（前后预查）</h2><p>关于零宽断言的定义，如下斜体引用自百度百科：</p><p><em>零宽断言是<a href="https://baike.baidu.com/item/正则表达式/1700215">正则表达式</a>中的一种方法，正则表达式在计算机科学中，是指一个用来描述或者匹配一系列符合某个句法规则的字符串的单个字符串。</em></p><p><strong>我个人理解为是一种筛选字符串的规则，当我们规则某个字符出现为真或者假时则执行的正则表达式取值，类似于将基本的真假判断分支不同处理结果，根据结果引入字符筛选的正则表达式</strong>。</p><p><strong>它是另一种形式的占位符，是一种条件零宽度占位符，所谓零宽度是指的是返回的结果中不包含该断言内容</strong>，例如：<code>(?&lt;=\$)[0-9\.]*</code>表示的意思是：判断字符的开头是否存在字符<code>$</code>，且其后面含有 0 到 9 的，且最后跟着字符<code>.</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227201637426.png" alt="image-20220227201637426" style="zoom:80%;" /></p><p>如上示例使用的是 正后发断言，关于零宽度断言的分类：</p><div class="table-container"><table><thead><tr><th>符号</th><th>描述</th></tr></thead><tbody><tr><td><code>?=</code></td><td>正先行断言-存在</td></tr><tr><td><code>?!</code></td><td>负先行断言-排除</td></tr><tr><td><code>?&lt;=</code></td><td>正后发断言-存在</td></tr><tr><td><code>?&lt;!</code></td><td>负后发断言-排除</td></tr></tbody></table></div><h3 id="正先行断言"><a href="#正先行断言" class="headerlink" title="?=...正先行断言"></a><code>?=...</code>正先行断言</h3><p><strong><code>?=</code>正先行断言，表示第一部分表达式之后必须跟着<code>?=</code>定义的表达式。返回结果只包含满足条件的第一部分表达式匹配的内容，定义正先行断言需要使用<code>()</code></strong>。例如：<code>love(?=\.)</code>表示满足字符<code>love</code>后面存在字符<code>.</code>匹配的字符串，其匹配字符串不包含正先行断言中的内容，即<code>.</code>。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227203020352.png" alt="image-20220227203020352" style="zoom:80%;" /></p><h3 id="负先行断言"><a href="#负先行断言" class="headerlink" title="?!...负先行断言"></a><code>?!...</code>负先行断言</h3><p><strong><code>?!</code>负先行断言，使用格式参考正先行断言，其作用是匹配不包含负先行断言的内容</strong>，理解为正先行断言的取反。例如：<code>love(?!\.)</code>，表示的意思是匹配不包含字符<code>.</code>的，且其前面的字符为<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227203520175.png" alt="image-20220227203520175" style="zoom:80%;" /></p><h3 id="lt-正后发断言"><a href="#lt-正后发断言" class="headerlink" title="?&lt;=...正后发断言"></a><code>?&lt;=...</code>正后发断言</h3><p><strong><code>?&lt;=</code>正后发断言，与正先行断言的区别是匹配的正则表达式要在断言的后面</strong>，例如：<code>(?&lt;=\.)love</code>表示的意思是匹配目标字符串前面存在字符<code>.</code>且包含<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227203942318.png" alt="image-20220227203942318" style="zoom:80%;" /></p><h3 id="lt-！-负后发断言"><a href="#lt-！-负后发断言" class="headerlink" title="?&lt;！...负后发断言"></a><code>?&lt;！...</code>负后发断言</h3><p><strong><code>?&lt;！</code>正后发断言，与负先行断言的区别是匹配的正则表达式要在断言的后面</strong>，例如：<code>(?&lt;!\.)love</code>表示的意思匹配目标字符串前面不存在字符<code>.</code>且包含字符<code>love</code>的字符。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227204518557.png" alt="image-20220227204518557" style="zoom:80%;" /></p><blockquote><p>Lookarounds 是零宽度断言的英文</p></blockquote><h2 id="匹配规则（标志）"><a href="#匹配规则（标志）" class="headerlink" title="匹配规则（标志）"></a>匹配规则（标志）</h2><p><strong>匹配规则是一种匹配修正符，用来指控匹配的模式，它也是正则表达式的一部分</strong>。例如：</p><div class="table-container"><table><thead><tr><th>标志</th><th>描述</th></tr></thead><tbody><tr><td><code>i</code></td><td>忽略大小写。</td></tr><tr><td><code>g</code></td><td>全局搜索。</td></tr><tr><td><code>m</code></td><td>多行修饰符：锚点元字符 <code>^</code> <code>$</code> 工作范围在每行的起始。</td></tr></tbody></table></div><p>实际完整的正则表达式的格式为：<code>/这里写正则表达式/匹配规则</code>，一般默认为<code>/我们在这里写正则表达式/g</code>。</p><p>当然实际上对于现在的正则表达式还有很多其他的匹配规则，例如下图，详细的请自行百度或者谷歌查询。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227210030517.png" alt="image-20220227210030517" style="zoom:67%;" /></p><h3 id="忽略大小写"><a href="#忽略大小写" class="headerlink" title="忽略大小写"></a>忽略大小写</h3><p>可以通过在匹配规则中添加<code>i</code>来表示匹配字符串时忽略大小写。例如：<code>/love/gi</code>表示匹配不区分大小的包含<code>love</code>的字符。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227205116064.png" alt="image-20220227205116064" style="zoom:80%;" /></p><blockquote><p><code>i</code>是 insensitive（不区分大小写）的缩写</p></blockquote><h3 id="全局搜索"><a href="#全局搜索" class="headerlink" title="全局搜索"></a>全局搜索</h3><p><code>g</code>表示匹配的返回结果是全部的匹配结果，而不是仅返回第一个匹配的字符。例如：<code>/love/</code>表示仅返回匹配的第一个字符。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227205525750.png" alt="image-20220227205525750" style="zoom:80%;" /></p><p>但是如果使用<code>/love/g</code>，则示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227205603931.png" alt="image-20220227205603931" style="zoom:80%;" /></p><blockquote><p><code>g</code>是 global 的缩写</p></blockquote><h3 id="多行修饰符"><a href="#多行修饰符" class="headerlink" title="多行修饰符"></a>多行修饰符</h3><p><code>m</code>是表示执行多行匹配，这么说可能不直观，如图前面说明的锚点，对于开头或者结尾锚点，仅仅匹配一段文字的最后或者末尾一个字符串，但是如果使用了<code>m</code>，即多行修饰符，则会进行多行的开头和结尾匹配。例如：<code>/^love/gm</code>表示的意思是匹配每一行的开头包含<code>love</code>的字符串。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227205915365.png" alt="image-20220227205915365" style="zoom:80%;" /></p><blockquote><p><code>m</code>是 muti line的缩写</p></blockquote><h2 id="贪婪匹配和惰性匹配（Greedy-vs-lazy-matching）"><a href="#贪婪匹配和惰性匹配（Greedy-vs-lazy-matching）" class="headerlink" title="贪婪匹配和惰性匹配（Greedy vs lazy matching）"></a>贪婪匹配和惰性匹配（Greedy vs lazy matching）</h2><p>正则表达式默认使用贪婪匹配，即尽可能的匹配更长的字符串，可以通过使用<code>?</code>将贪婪匹配模式转换为惰性匹配模式。例如：<code>.*in</code>表示的意思是：匹配空字符字符出现 0 次或者更多次的且后面包含字符<code>in</code>的字符串，这也是正则表达式默认我贪婪匹配模式。示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227210739332.png" alt="image-20220227210739332" style="zoom:80%;" /></p><p>但是使用<code>.*?in</code>表示尽可能的匹配多段字符，示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227210841149.png" alt="image-20220227210841149" style="zoom:80%;" /></p><p>返回了两个字符段，而不是默认的一段长字符段。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227210900987.png" alt="image-20220227210900987" style="zoom:80%;" /></p><h1 id="正则表达式应用实例"><a href="#正则表达式应用实例" class="headerlink" title="正则表达式应用实例"></a>正则表达式应用实例</h1><p>本实例使用<code>C#</code>代码，基于 Winform 来实现。</p><p>实例内容：利用正则表达式来实现规定用户注册账户的时候，用户名仅限于英文字母和数字以及下划线的组合；而密码仅限于字母和数字的组合。</p><ol><li><p>使用 Winform 简单设计一个如下的注册窗口</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227211623290.png" alt="image-20220227211623290" style="zoom:80%;" /></p></li><li><p>然后在注册按钮的事件中，使用如下代码</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> pattern1 = <span class="string">@&quot;^\w+$&quot;</span>;</span><br><span class="line"><span class="built_in">string</span> pattern2 = <span class="string">@&quot;^[A-Za-z0-9]+$&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (textBox1.Text == <span class="string">&quot;&quot;</span> || textBox2.Text == <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    MessageBox.Show(<span class="string">&quot;请输入用户名或者密码&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Regex.IsMatch(textBox1.Text, pattern1) == <span class="literal">false</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(<span class="string">&quot;用户名格式不正确&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Regex.IsMatch(textBox2.Text, pattern2) == <span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;密码格式不正确&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;注册成功&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>当我们输入包含<code>?</code>字符的用户名时，则弹出错误提醒：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227214041819.png" alt="image-20220227214041819" style="zoom: 67%;" /></p></li><li><p>如果输入含有<code>?</code>字符的密码时，则弹出错误提醒：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227214144302.png" alt="image-20220227214144302" style="zoom:67%;" /></p></li><li><p>只有输入正确的用户名和密码格式，才会注册成功：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220227214245587.png" alt="image-20220227214245587" style="zoom:67%;" /></p></li></ol><h1 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a>常用正则表达式</h1><h2 id="校验数字的表达式"><a href="#校验数字的表达式" class="headerlink" title="校验数字的表达式"></a>校验数字的表达式</h2><ul><li>数字：<strong><code>^[0-9]\*$</code></strong></li><li>n位的数字：<strong><code>^\d&#123;n&#125;$</code></strong></li><li>至少n位的数字：<strong><code>^\d&#123;n,&#125;$</code></strong></li><li>m-n位的数字：<strong><code>^\d&#123;m,n&#125;$</code></strong></li><li>零和非零开头的数字：<strong><code>^(0|[1-9][0-9]\*)$</code></strong></li><li>非零开头的最多带两位小数的数字：<strong><code>^([1-9][0-9]\*)+(\.[0-9]&#123;1,2&#125;)?$</code></strong></li><li>带1-2位小数的正数或负数：<strong><code>^(\-)?\d+(\.\d&#123;1,2&#125;)$</code></strong></li><li>正数、负数、和小数：<strong><code>^(\-|\+)?\d+(\.\d+)?$</code></strong></li><li>有两位小数的正实数：<strong><code>^[0-9]+(\.[0-9]&#123;2&#125;)?$</code></strong></li><li>有1~3位小数的正实数：<strong><code>^[0-9]+(\.[0-9]&#123;1,3&#125;)?$</code></strong></li><li>非零的正整数：<strong><code>^[1-9]\d\*$</code> 或 <code>^([1-9][0-9]\*)&#123;1,3&#125;$</code> 或 <code>^\+?[1-9][0-9]\*$</code></strong></li><li>非零的负整数：<strong><code>^\-[1-9][]0-9&quot;\*$</code> 或 <code>^-[1-9]\d\*$</code></strong></li><li>非负整数：<strong><code>^\d+$</code> 或 <code>^[1-9]\d\*|0$</code></strong></li><li>非正整数：<strong><code>^-[1-9]\d\*|0$</code> 或 <code>^((-\d+)|(0+))$</code></strong></li><li>非负浮点数：<strong><code>^\d+(\.\d+)?$</code> 或 <code>^[1-9]\d\*\.\d\*|0\.\d\*[1-9]\d\*|0?\.0+|0$</code></strong></li><li>非正浮点数：<strong><code>^((-\d+(\.\d+)?)|(0+(\.0+)?))$</code> 或 <code>^(-([1-9]\d\*\.\d\*|0\.\d\*[1-9]\d\*))|0?\.0+|0$</code></strong></li><li>正浮点数：<strong><code>^[1-9]\d\*\.\d\*|0\.\d\*[1-9]\d\*$</code> 或 <code>^(([0-9]+\.[0-9]\*[1-9][0-9]\*)|([0-9]\*[1-9][0-9]\*\.[0-9]+)|([0-9]\*[1-9][0-9]\*))$</code></strong></li><li>负浮点数：<strong><code>^-([1-9]\d\*\.\d\*|0\.\d\*[1-9]\d\*)$</code> 或 <code>^(-(([0-9]+\.[0-9]\*[1-9][0-9]\*)|([0-9]\*[1-9][0-9]\*\.[0-9]+)|([0-9]\*[1-9][0-9]\*)))$</code></strong></li><li>浮点数：<strong><code>^(-?\d+)(\.\d+)?$</code> 或 <code>^-?([1-9]\d\*\.\d\*|0\.\d\*[1-9]\d\*|0?\.0+|0)$</code></strong></li></ul><h2 id="校验字符的表达式"><a href="#校验字符的表达式" class="headerlink" title="校验字符的表达式"></a>校验字符的表达式</h2><ul><li>汉字：<strong><code>^[\u4e00-\u9fa5]&#123;0,&#125;$</code></strong></li><li>英文和数字：<strong><code>^[A-Za-z0-9]+$</code> 或 <code>^[A-Za-z0-9]&#123;4,40&#125;$</code></strong></li><li>长度为3-20的所有字符：<strong><code>^.&#123;3,20&#125;$</code></strong></li><li>由26个英文字母组成的字符串：<strong><code>^[A-Za-z]+$</code></strong></li><li>由26个大写英文字母组成的字符串：<strong><code>^[A-Z]+$</code></strong></li><li>由26个小写英文字母组成的字符串：<strong><code>^[a-z]+$</code></strong></li><li>由数字和26个英文字母组成的字符串：<strong><code>^[A-Za-z0-9]+$</code></strong></li><li>由数字、26个英文字母或者下划线组成的字符串：<strong><code>^\w+$</code> 或 <code>^\w&#123;3,20&#125;$</code></strong></li><li>中文、英文、数字包括下划线：<strong><code>^[\u4E00-\u9FA5A-Za-z0-9_]+$</code></strong></li><li>中文、英文、数字但不包括下划线等符号：<strong><code>^[\u4E00-\u9FA5A-Za-z0-9]+$</code> 或 <code>^[\u4E00-\u9FA5A-Za-z0-9]&#123;2,20&#125;$</code></strong></li><li>可以输入含有^%&amp;’,;=? $\”等字符：<strong><code>[^%&amp;&#39;,;=?$\x22]+</code></strong></li><li>禁止输入含有~的字符：<strong><code>[^~\x22]+</code></strong></li></ul><h2 id="特殊需求表达式"><a href="#特殊需求表达式" class="headerlink" title="特殊需求表达式"></a>特殊需求表达式</h2><ul><li>Email地址：<strong><code>^\w+([-+.]\w+)\*@\w+([-.]\w+)\*\.\w+([-.]\w+)\*$</code></strong></li><li>域名：<strong><code>[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(\.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+\.?</code></strong></li><li>InternetURL：<strong><code>[a-zA-z]+://[^\s]\*</code> 或 <code>^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]\*)?$</code></strong></li><li>手机号码：<strong><code>^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d&#123;8&#125;$</code></strong></li><li>电话号码(“XXX-XXXXXXX”、”XXXX-XXXXXXXX”、”XXX-XXXXXXX”、”XXX-XXXXXXXX”、”XXXXXXX”和”XXXXXXXX)：<strong><code>^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$</code></strong></li><li>国内电话号码(0511-4405222、021-87888822)：<strong><code>\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;</code></strong></li><li>电话号码正则表达式（支持手机号码，3-4位区号，7-8位直播号码，1－4位分机号）: <strong><code>((\d&#123;11&#125;)|^((\d&#123;7,8&#125;)|(\d&#123;4&#125;|\d&#123;3&#125;)-(\d&#123;7,8&#125;)|(\d&#123;4&#125;|\d&#123;3&#125;)-(\d&#123;7,8&#125;)-(\d&#123;4&#125;|\d&#123;3&#125;|\d&#123;2&#125;|\d&#123;1&#125;)|(\d&#123;7,8&#125;)-(\d&#123;4&#125;|\d&#123;3&#125;|\d&#123;2&#125;|\d&#123;1&#125;))$)</code></strong></li><li>身份证号(15位、18位数字)，最后一位是校验位，可能为数字或字符X：<strong><code>(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)</code></strong></li><li>帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：<strong><code>^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$</code></strong></li><li>密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：<strong><code>^[a-zA-Z]\w&#123;5,17&#125;$</code></strong></li><li>强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间)：<strong><code>^(?=.\*\d)(?=.\*[a-z])(?=.\*[A-Z])[a-zA-Z0-9]&#123;8,10&#125;$</code></strong></li><li>强密码(必须包含大小写字母和数字的组合，可以使用特殊字符，长度在8-10之间)：<strong><code>^(?=.\*\d)(?=.\*[a-z])(?=.\*[A-Z]).&#123;8,10&#125;$</code></strong></li><li>日期格式：<strong><code>^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;</code></strong></li><li>一年的12个月(01～09和1～12)：<strong><code>^(0?[1-9]|1[0-2])$</code></strong></li><li>一个月的31天(01～09和1～31)：<strong><code>^((0?[1-9])|((1|2)[0-9])|30|31)$</code></strong></li><li>钱的输入格式：<ol><li>有四种钱的表示形式我们可以接受:”10000.00” 和 “10,000.00”, 和没有 “分” 的 “10000” 和 “10,000”：<strong><code>^[1-9][0-9]\*$</code></strong></li><li>这表示任意一个不以0开头的数字,但是,这也意味着一个字符”0”不通过,所以我们采用下面的形式：<strong><code>^(0|[1-9][0-9]\*)$</code></strong></li><li>一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：<strong><code>^(0|-?[1-9][0-9]\*)$</code></strong></li><li>这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧。下面我们要加的是说明可能的小数部分：<strong><code>^[0-9]+(.[0-9]+)?$</code></strong></li><li>必须说明的是,小数点后面至少应该有1位数,所以”10.”是不通过的,但是 “10” 和 “10.2” 是通过的：<strong><code>^[0-9]+(.[0-9]&#123;2&#125;)?$</code></strong></li><li>这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：<strong><code>^[0-9]+(.[0-9]&#123;1,2&#125;)?$</code></strong></li><li>这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：<strong><code>^[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)\*(.[0-9]&#123;1,2&#125;)?$</code></strong></li><li>1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：<strong><code>^([0-9]+|[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)\*)(.[0-9]&#123;1,2&#125;)?$</code></strong></li><li>备注：这就是最终结果了,别忘了”+”可以用”*”替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里</li></ol></li><li>xml文件：<strong><code>^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</code></strong></li><li>中文字符的正则表达式：<strong><code>[\u4e00-\u9fa5]</code></strong></li><li>双字节字符：<strong><code>[^\x00-\xff]</code> (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</strong></li><li>空白行的正则表达式：<strong><code>\n\s\*\r</code> (可以用来删除空白行)</strong></li><li>HTML标记的正则表达式：<strong><code>&lt;(\S\*?)[^&gt;]\*&gt;.\*?|&lt;.\*? /&gt;</code> ( 首尾空白字符的正则表达式：<code>^\s\*|\s\*$或(^\s\*)|(\s\*$</code>) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</strong></li><li>腾讯QQ号：<strong><code>[1-9][0-9]&#123;4,&#125;</code> (腾讯QQ号从10000开始)</strong></li><li>中国邮政编码：<strong><code>[1-9]\d&#123;5&#125;(?!\d)</code> (中国邮政编码为6位数字)</strong></li><li>IPv4地址：<strong><code>((2(5[0-5]|[0-4]\d))|[0-1]?\d&#123;1,2&#125;)(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d&#123;1,2&#125;))&#123;3&#125;</code></strong></li></ul><blockquote><p>该常用正则表达式内容来源：<a href="https://c.runoob.com/front-end/854/">点击访问</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# </tag>
            
            <tag> 正则表达式 </tag>
            
            <tag> Winform </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTex基础(上)</title>
      <link href="/HelloSeraphine.io/2022/05/22/LaTex%E5%9F%BA%E7%A1%80(%E4%B8%8A)/"/>
      <url>/HelloSeraphine.io/2022/05/22/LaTex%E5%9F%BA%E7%A1%80(%E4%B8%8A)/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong>从MS Office 到 Markdown 再到 LaTex，每个不同的编辑软件都对不同的文本排列提供了一种解决方案</strong>，可以根据自己的实际需求来合理使用，我尝试记录最基本且简单的语法来说明<code>LaTex</code>的使用语法。</p><p><strong>我使用的 <code>LaTex</code> 编辑器为 <code>TexStudio</code>，<code>Tex</code>的宏包直接安装的 <code>Tex Live</code>。</strong></p><blockquote><p><strong>本文内容是我个人学习自 《简单高效LaTex》以及百度和Bilibili相关网站的学习内容整理笔记</strong></p></blockquote><h1 id="认识LaTex"><a href="#认识LaTex" class="headerlink" title="认识LaTex"></a>认识<code>LaTex</code></h1><blockquote><p>前排提醒：<code>LaTex</code>对大小写敏感，即区分大小写</p></blockquote><h2 id="命令与环境"><a href="#命令与环境" class="headerlink" title="命令与环境"></a>命令与环境</h2><p><strong><code>LaTex</code>中的命令通常是由一个反斜杠加上命令名称，再加上花括号内的参数构成</strong>，例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>&#123;ctexart&#125;</span><br></pre></td></tr></table></figure><p><strong>如果一些选项是有其他可以缺省的参数，一般在花括号前使用<code>[]</code>来指定</strong>，例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8](ctexart)</span><br></pre></td></tr></table></figure><p><strong>关于<code>LaTex</code>的正文部分，写在一个称为环境的部分</strong>，其格式类似于<code>HTML</code>的<code>body</code>，<strong>需要将内容写在其间</strong>，例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;environment&#125;</span><br><span class="line">这里是你的内容</span><br><span class="line"><span class="keyword">\end</span>&#123;environment&#125;</span><br></pre></td></tr></table></figure><h2 id="保留字符"><a href="#保留字符" class="headerlink" title="保留字符"></a>保留字符</h2><p><strong>在<code>LaTex</code>中，有一部分字符被用来作为命令字符，这些字符被称为<code>LaTex</code>的保留字符</strong>，例如下表</p><div class="table-container"><table><thead><tr><th>符号</th><th>意义</th></tr></thead><tbody><tr><td><code>#</code></td><td>自定义命令时，用于标明参数序号</td></tr><tr><td><code>$</code></td><td>用于编写数学公式标识符</td></tr><tr><td><code>%</code></td><td>注释符，可以通过在行末添加该注释符，来注释掉后面的空白符</td></tr><tr><td><code>^</code></td><td>数学公式中的上标符</td></tr><tr><td><code>_</code></td><td>数学公司中的下标符</td></tr><tr><td><code>&amp;</code></td><td>表格中的跳列符</td></tr><tr><td><code>&#123;&#125;</code></td><td>在一些命令中填写参数的标识</td></tr><tr><td><code>\</code></td><td>标识<code>LaTex</code>命令的标识符</td></tr></tbody></table></div><p>上述字符，<strong>如果在文中需要使用上述保留字符的话（除<code>\</code>反斜杠）需要在前面加上<code>\</code>，即反斜杠来标识，这样就能够使用该字符</strong>，例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%表示要使用 # 符号</span></span><br><span class="line"><span class="keyword">\#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%表示要使用 &amp; 符号</span></span><br><span class="line"><span class="keyword">\&amp;</span></span><br></pre></td></tr></table></figure><p>如果想要使用 <code>\</code>（反斜杠）的话，需要使用如下示例命令：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%表示使用 \ 符号</span></span><br><span class="line"><span class="keyword">\texttt</span>&#123;<span class="keyword">\char</span>92&#125;</span><br></pre></td></tr></table></figure><p><code>\texttt</code>是使用 <code>tt</code> 字体环境，用于输出ASCII码对应的字符，<code>\char92</code>指定的是反斜杠字符，同样的可以使用：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\char</span>`<span class="keyword">\\</span></span><br></pre></td></tr></table></figure><p>来输出<code>\</code>反斜杠。</p><h2 id="导言区"><a href="#导言区" class="headerlink" title="导言区"></a>导言区</h2><p>对于任何一份<code>LaTex</code>文档都应该含有如下结构：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[options]&#123;doc-class&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;environment&#125;</span><br><span class="line">你的内容部分</span><br><span class="line"><span class="keyword">\end</span>&#123;environment&#125;</span><br></pre></td></tr></table></figure><p>其中，<strong>在<code>\begin&#123;environment&#125;</code>之前的内容被称为导言区。导言区用来对文档进行一些设定，可以通俗理解为调控文档模板的地方</strong>。关于上述<code>options</code>和<code>doc-class</code>的参数如下表：</p><div class="table-container"><table><thead><tr><th>doc-class参数</th><th>说明</th></tr></thead><tbody><tr><td><code>article</code></td><td>科学期刊，演示文档，短报告，邀请函等</td></tr><tr><td><code>proc</code></td><td>基于<code>article</code>的会议论文集</td></tr><tr><td><code>report</code></td><td>多章节的长报告，博士论文，短篇书</td></tr><tr><td><code>book</code></td><td>书籍</td></tr><tr><td><code>slides</code>或<code>beamer</code></td><td>幻灯片</td></tr></tbody></table></div><p><strong>一般来说，对于纯英文的文档，推荐直接使用<code>article</code>，如果是含有中文的文档，则使用<code>ctexart</code>，并且要在前面的缺省参数标明指定的中文编码，例如<code>UTF-8</code>，</strong>命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br></pre></td></tr></table></figure><blockquote><p>文中所有命令都是在，<code>ctexart</code>格式下进行的，即上述命令示例</p></blockquote><div class="table-container"><table><thead><tr><th>options参数</th><th>说明</th></tr></thead><tbody><tr><td>默认<code>10pt</code>，可选则<code>11pt</code>和<code>12pt</code></td><td>字体大小</td></tr><tr><td>默认<code>portrait</code>（纵向），<code>landscape</code>（横向）</td><td>页面方向</td></tr><tr><td>默认<code>letterpaper</code>，可选<code>a4paper</code>，<code>b5paper</code>等</td><td>纸张大小</td></tr><tr><td>默认<code>onecolumn</code>（单栏），可选<code>twocolumn</code>（两栏）</td><td>分栏</td></tr><tr><td><code>article</code>和<code>report</code>默认单面，可选<code>oneside</code>和<code>twoside</code></td><td>双面打印</td></tr><tr><td>默认任意页，可选<code>openright</code>和<code>openany</code>，决定在奇数页或者任意页开启新页。<br />需要注意的是，<code>article</code>是没有<code>chapter</code>(章)命令的。</td><td>章节分页</td></tr><tr><td>默认居中，可选<code>fleqn</code>（左对齐）<br />默认编号居右，可选<code>leqno</code>（左对齐）</td><td>公式对齐</td></tr><tr><td>默认<code>final</code>，可选<code>draft</code>（使行溢出部分显示为黑块）</td><td>草稿选项</td></tr></tbody></table></div><p><strong>在导言区最常见的是宏包的加载工作，命令形如<code>\usepackage&#123;package&#125;</code></strong>。关于什么是宏包，通俗来说就是提前封装好的一些功能格式，对于一些非原生<code>LaTex</code>的功能格式，可以通过借用第三方宏包的方式来使用，提高效率。</p><blockquote><p>关于宏包文档的查看，可以通过打开Windows系统的<code>CMD</code>，然后输出<code>texdoc+宏包名称</code>就可以查看对应宏包的说明文档，部分文档是汉化的，所以可以任意阅读</p></blockquote><h2 id="文件输出"><a href="#文件输出" class="headerlink" title="文件输出"></a>文件输出</h2><p><strong>一般情况下，推荐输出<code>pdf</code>格式</strong>，由<code>LaTex</code>直接生成的<code>dvi</code>格式并不推荐。</p><p>你或许会在<code>tex</code>文档的文件夹下看到如下格式类型的文件：</p><ul><li><code>.sty</code>：宏包文件</li><li><code>.cls</code>：文档类文件</li><li><code>.aux</code>：用于存储交叉引用信息的文件，因此，在更新交叉引用（公式编号，大纲级别）后，需要编译两次才能正常显示。</li><li><code>.log</code>：日志，记录上次的编译信息。</li><li><code>.toc</code>：目录文件。</li><li><code>.lof</code>：图形目录</li><li><code>.lot</code>：表格目录</li><li><code>.idx</code>：如果文档中包含索引，该文件用于存储索引信息</li><li><code>.ind</code>：索引记录文件</li><li><code>.ilg</code>：索引日志文件</li><li><code>.bib</code>：<code>BIBTEX</code>参考文献数据文件</li><li><code>.bbl</code>：生成的参考文献记录</li><li><code>.bst</code>：<code>BIBTEX</code>模板</li><li><code>.blg</code>：<code>BIBTEX</code>日志</li><li><code>.out</code>：<code>hyperref</code>宏包生成的<code>pdf</code>书签记录</li></ul><p>例如，我使用的示例<code>tex</code>文档下的文件内容：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306204837996.png" alt="image-20220306204837996" style="zoom:67%;" /></p><p><strong>有时<code>LaTex</code>编译出现异常时，可以通过删除除了<code>tex</code>文件外的文件再编译</strong>。</p><blockquote><p>还需要注意的时，有时候其他程序占用了以上文件也会出现错误。</p></blockquote><h1 id="标点与强调"><a href="#标点与强调" class="headerlink" title="标点与强调"></a>标点与强调</h1><h2 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h2><p><strong>英文单引号并不是两个<code>&#39;</code>（单引号）符号的组合，而是由左单引号<code>ˋ</code>和右单引号<code>&#39;</code>来实现英文单引号</strong>，示例命令：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">这是两个单引号`&#x27;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染结果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306211513687.png" alt="image-20220306211513687" style="zoom:80%;" /></p><p>如果我们直接使用英文两个<code>&#39;</code>单引号，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">这是两个单引号&#x27;&#x27;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染结果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306212022453.png" alt="image-20220306212022453" style="zoom:80%;" /></p><p>同样的，<strong>使用英文双引号，也需要分开左双引号，即两个<code>ˋˋ</code>，然后两个右双引号<code>&#39;&#39;</code></strong>即可。<strong>中文符号的引号直接使用中文即可</strong>。</p><h2 id="短横，省略号与破折号"><a href="#短横，省略号与破折号" class="headerlink" title="短横，省略号与破折号"></a>短横，省略号与破折号</h2><p>英文的短横分为三种：</p><ul><li><strong>连字符：输入一个短横<code>-</code></strong></li><li><strong>数字起止符：输入两个短横<code>--</code></strong></li><li><strong>破折号：输入三个短横<code>---</code></strong></li></ul><p>【渲染效果】<img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306213543194.png" alt="image-20220306213543194" style="zoom:80%;" /></p><p>中文的字符都可以正常使用。<strong>需要注意的是，英文的省略号需要使用<code>\ldots</code>命令</strong>。</p><h2 id="强调：粗体与斜体"><a href="#强调：粗体与斜体" class="headerlink" title="强调：粗体与斜体"></a>强调：粗体与斜体</h2><p><code>LaTex</code>中有个命令<code>\emph&#123;text&#125;</code>，可以强调文本。对于一般的英文字体来说，这个命令的结果是斜体，而如果输入中文，则不会触发斜体，只是给中文应用了某个细字体，例如：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306214147619.png" alt="image-20220306214147619" style="zoom: 67%;" /></p><p><strong>对于英文来说，是采用斜体的方式进行强调，而不是中文惯用的粗体</strong>。</p><h2 id="下划线与删除线"><a href="#下划线与删除线" class="headerlink" title="下划线与删除线"></a>下划线与删除线</h2><p><code>LaTex</code>原生提供的下划线命令是<code>\underline</code>，不过原生提供的下划线风评不是很好，可以使用<code>ulem</code>宏包提供的下划线，如下是两个下划线的比较示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220306215057754.png" alt="image-20220306215057754" style="zoom:80%;" /></p><p>同样的<code>ulem</code>宏包还提供了一些其他的命令，例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\uline</span>&#123;下划线&#125;</span><br><span class="line"><span class="keyword">\uuline</span>&#123;双下划线&#125;</span><br><span class="line"><span class="keyword">\uwave</span>&#123;下波浪线&#125;</span><br><span class="line"><span class="keyword">\sout</span>&#123;删除线&#125;</span><br><span class="line"><span class="keyword">\xout</span>&#123;删除封禁线&#125;</span><br><span class="line"><span class="keyword">\dashuline</span>&#123;下虚划线&#125;</span><br><span class="line"><span class="keyword">\dotuline</span>&#123;下点线&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220307083136655.png" alt="image-20220307083136655" style="zoom:67%;" /></p><blockquote><p><strong>如果希望<code>LaTex</code>开头不自动缩进的话，可以在开头输入<code>\noindent</code>，来表示首行不缩进</strong></p></blockquote><p>需要注意的是<code>ulem</code>宏包对<code>\emph&#123;text&#125;</code>进行了重定义，之前使用<code>\emph</code>命令会产生斜体，<strong>使用<code>ulem</code>宏包后，它重定义的效果是产生下划线而不是斜体，如果希望取消这个重定义，则在引入宏包的导言区输入如下命令参数</strong>：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>[normalem]&#123;ulem&#125;</span><br></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>关于数学公式，化学公式等，如果你使用过Markdown则会更熟悉，需要使用<script type="math/tex">这里是你的公式内容</script>来包裹你的公式来表示这里要渲染公式。例如：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 数学公式</span></span><br><span class="line"><span class="built_in">$</span><span class="keyword">\frac</span>&#123;x<span class="built_in">^</span>2-2&#125;&#123;x<span class="built_in">^</span>3&#125;+3=y<span class="built_in">$</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 化学苯环</span></span><br><span class="line"><span class="built_in">$</span><span class="keyword">\chemfig</span>&#123;*6(-=-=-=)&#125;<span class="built_in">$</span></span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220307084339540.png" alt="image-20220307084339540" style="zoom: 67%;" /></p><p>关于输出<code>Tex</code>家族标志，可以使用原生命令，例如<code>\LaTex</code>，<code>\Tex</code>等 </p><p>【渲染输出】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220307085001047.png" alt="image-20220307085001047" style="zoom:50%;" /></p><h1 id="格式控制"><a href="#格式控制" class="headerlink" title="格式控制"></a>格式控制</h1><p>关于<code>LaTex</code>的长度单位：</p><ul><li><strong>pt(point)</strong>：磅</li><li><strong>pc(pica)</strong>：1pc=12pt，四号字</li><li><strong>in(inch)</strong>：英寸，1 in=72.27 pt</li><li><strong>bp(bigpoint)</strong>：大点，1 bp = $\frac{1}{72}$ in</li><li><strong>cm(centimeter)</strong>：厘米，1 cm = $\frac{1}{2.54}$ in</li><li><strong>mm(millimeter)</strong>：毫米，1 mm = $\frac{1}{10}$ cm</li><li><strong>sp(scaled point)</strong>：<code>Tex</code>的基本长度单位，1 sp=$\frac{1}{65536}$ pt</li><li><strong>em</strong>：当前字号下，大写字母 <code>M</code> 的宽度</li><li><strong>ex</strong>：当前字号下，小写字母 <code>x</code> 的高度</li></ul><p>如下是两个常用的长度宏，关于其他的长度宏后面的表格，分栏部分会做详细说明。</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 页面上文字的总宽度，即页宽减去两侧边距</span></span><br><span class="line"><span class="keyword">\textwidth</span></span><br><span class="line"><span class="comment">% 当前行允许的行宽</span></span><br><span class="line"><span class="keyword">\linewidth</span></span><br></pre></td></tr></table></figure><h2 id="空格，换行与分段"><a href="#空格，换行与分段" class="headerlink" title="空格，换行与分段"></a>空格，换行与分段</h2><p>关于空格有多种表示方法，如下表格：</p><div class="table-container"><table><thead><tr><th>说明</th><th>命令</th><th>效果</th></tr></thead><tbody><tr><td>两个<code>quad</code>宽度</td><td><code>\qquad</code></td><td>$a \qquad b$</td></tr><tr><td>一个<code>quad</code>宽度</td><td><code>\quad</code></td><td>$a \quad b$</td></tr><tr><td>大空格</td><td><code>\+空格</code></td><td>$a\ b$</td></tr><tr><td>中等空格</td><td><code>\;</code></td><td>$a\;b$</td></tr><tr><td>小空格</td><td><code>\,</code></td><td>$a\,b$</td></tr><tr><td>紧贴（即缩进距离）</td><td><code>\!</code></td><td>$a!b$</td></tr></tbody></table></div><p>换行的方法也非常简单，对于一般的长度来说，<code>LaTex</code>会自动换行，而<strong>如果希望手动换行，只需要在换行处输入两个回车即可完成分段</strong>。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\noindent</span><span class="comment">%该命令表示开头无缩进</span></span><br><span class="line">测试测试测试测试测试测试测试</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试</span><br><span class="line"><span class="keyword">\TeX</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220308211214804.png" alt="image-20220308211214804" style="zoom:80%;" /></p><p>如果希望<strong>在两个段之间插入一个空白行，即空白段，则需要先输入两个回车，然后使用命令<code>\mbox&#123;&#125;</code>，最后再输入两个回车即可</strong>。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\noindent</span></span><br><span class="line">测试测试测试测试测试测试测试</span><br><span class="line"></span><br><span class="line"><span class="keyword">\mbox</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试</span><br><span class="line"><span class="keyword">\TeX</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220308211433101.png" alt="image-20220308211433101" style="zoom:80%;" /></p><p>同样的，<strong>也可以使用<code>\per</code>来生成一个带缩进的新段</strong>。</p><p><strong>关于强制换行的命令，即<code>\\</code>，这样会有一个缺点，即换行后的新段首行缩进会消失</strong>，这个命令一般不用在正文中换行。正常使用两个回车换行即可。</p><p>另外，宏包<code>lettrine</code>能够生成首字下沉的效果，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lettrine&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\noindent</span></span><br><span class="line"><span class="keyword">\lettrine</span>&#123;测&#125; 试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试</span><br><span class="line"><span class="keyword">\TeX</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220308212304346.png" alt="image-20220308212304346" style="zoom:80%;" /></p><h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><p><strong>使用<code>\newpage</code>开始新的一页</strong>。</p><p>使用<code>\clearpage</code>命令清空浮动体队列，并开始新的一页。</p><blockquote><p>关于什么事浮动体队列，详情看后面</p></blockquote><p>使用<code>\cleardoublepage</code>情况浮动体队列，并在偶数页开始新的一页。</p><p>需要注意的是，上述命令是基于<code>vfill</code>的，<strong>所以如果需要连续新开两页，需要在中间加上一个空的箱子</strong>，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\newpage</span> <span class="keyword">\mbox</span>&#123;&#125; <span class="keyword">\newpage</span></span><br></pre></td></tr></table></figure><h2 id="缩进，对齐与行距"><a href="#缩进，对齐与行距" class="headerlink" title="缩进，对齐与行距"></a>缩进，对齐与行距</h2><p>关于首行缩进问题，在部分教程和书籍中表示<code>LaTex</code>对中文首行默认不缩进，需要借助宏包<code>indentfirst</code>来完成缩进，我测试过，在我的环境下，即 Win10，Tex Live 2022，Tex Studio 的情况下，已经支持中文默认缩进。<strong>关于取消首行缩进可以通过前面提到过的<code>\noindent</code>来实现</strong>。</p><p>关于其他更复杂的部分详细看后面。</p><h1 id="字体与颜色"><a href="#字体与颜色" class="headerlink" title="字体与颜色"></a>字体与颜色</h1><p>这部分只说明文中的字体使用，关于数学公式字体的使用详细看后面。</p><h2 id="字族，字系与字形"><a href="#字族，字系与字形" class="headerlink" title="字族，字系与字形"></a>字族，字系与字形</h2><p>宋体，黑体，楷体属于字族；对应到外文就是罗马体，等宽体等。加粗，加斜属于字系和字形，五号，小四号属于字号。这三者并称为字体。</p><h2 id="中西文“斜体”"><a href="#中西文“斜体”" class="headerlink" title="中西文“斜体”"></a>中西文“斜体”</h2><p>首先需要明确一点：<strong>汉字没有加斜体。平常看到的斜体汉字是通过几何变换得到的结果</strong>，对于排版来说，这种斜体是非常粗糙的，真正的字形是需要精细设计的。</p><p>西文中一般设有加斜，但与“斜体”并不是一回事。加斜是指某种字族的 <code>Italy</code> 字系；而斜体，是指<code>Slant</code>字族。</p><h2 id="原生字体命令"><a href="#原生字体命令" class="headerlink" title="原生字体命令"></a>原生字体命令</h2><p><code>LaTex</code>提供了基本的字体命令，如下表</p><div class="table-container"><table><thead><tr><th>字体</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>字族</td><td><code>\rmfamily</code></td><td>设置字体为<code>Roman</code>罗马字族</td></tr><tr><td></td><td><code>\sffamily</code></td><td>把字体设置为<code>Sans Serif</code>无衬线字族</td></tr><tr><td></td><td><code>\ttfamily</code></td><td>把字体设置为<code>Typewriter</code>等宽字族</td></tr><tr><td>字系</td><td><code>\bfseries</code></td><td>粗体<code>BoldSeries</code>字系属性</td></tr><tr><td></td><td><code>\mdseries</code></td><td>中粗体<code>MiddleSeries</code>字系属性</td></tr><tr><td>字形</td><td><code>\upshape</code></td><td>竖直<code>Upright</code>字形</td></tr><tr><td></td><td><code>\slshape</code></td><td>斜体<code>Slant</code>字形</td></tr><tr><td></td><td><code>\itshape</code></td><td>强调体<code>Italic</code>字形</td></tr><tr><td></td><td><code>\scshape</code></td><td>小号大写体<code>SCAP</code>字形</td></tr></tbody></table></div><p>然后就是<strong>关于字号的命令，<code>LaTex</code>给出了一系列“相对字号命令”</strong>，如下表所示，当然你也可以使用宏包<code>ctex</code>的相关字号命令来控制字号，详细文档说明可以使用控制台命令<code>texdoc ctex</code>即可查看。</p><div class="table-container"><table><thead><tr><th>符号</th><th>命令</th><th>符号</th><th>命令</th></tr></thead><tbody><tr><td>超超小</td><td><script type="math/tex">\tiny</script></td><td>其次小</td><td><script type="math/tex">\scriptsize</script></td></tr><tr><td>小一点</td><td><script type="math/tex">\small</script></td><td>默认大小</td><td><script type="math/tex">\normalsize</script></td></tr><tr><td>大一点</td><td><script type="math/tex">\large</script></td><td>大两点</td><td><script type="math/tex">\Large</script></td></tr><tr><td>大三点</td><td><script type="math/tex">\LARGR</script></td><td>巨大</td><td><script type="math/tex">\huge</script></td></tr><tr><td>巨巨大</td><td><script type="math/tex">\Huge</script></td><td></td></tr></tbody></table></div><h2 id="中文支持与CJK字体"><a href="#中文支持与CJK字体" class="headerlink" title="中文支持与CJK字体"></a>中文支持与CJK字体</h2><p>中文方面，<code>ctex</code>宏包直接定义了新的中文文档类<code>ctexart</code>，<code>ctexrep</code>与<code>ctexbook</code>，以及<code>ctexbeamer</code>幻灯文档类。</p><blockquote><p>关于中文支持方面的更多问题可以查看<code>ctex</code>文档说明</p></blockquote><h2 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h2><p>使用<code>xcolor</code>宏包来方便的调用颜色，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\textcolor</span>&#123;red&#125;&#123;试测试测试测试&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309162354001.png" alt="image-20220309162354001" style="zoom:80%;" /></p><blockquote><p>关于更多的颜色说明可以参考宏包<code>xcolor</code>说明文档</p></blockquote><h1 id="引用与注释"><a href="#引用与注释" class="headerlink" title="引用与注释"></a>引用与注释</h1><p>电子文档最大的优点在于可以使用超链接，跳转标签和目录。这些功能的实现都需要“引用”。</p><h2 id="标签和引用"><a href="#标签和引用" class="headerlink" title="标签和引用"></a>标签和引用</h2><p><strong>使用<code>\label</code>命令插入标签（在MS Word中称为“题注”），然后在其他地方使用<code>\ref</code>或者<code>\pageref</code>命令进行引用。</strong>命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 创建标签</span></span><br><span class="line"><span class="keyword">\label</span>&#123;123&#125;</span><br><span class="line"><span class="comment">% 引用标签</span></span><br><span class="line"><span class="keyword">\ref</span>&#123;123&#125;</span><br></pre></td></tr></table></figure><p>另外有个宏包<code>amsmath</code>提供了相关引用的命令，可以自行查看。</p><h2 id="脚注，边注与尾注"><a href="#脚注，边注与尾注" class="headerlink" title="脚注，边注与尾注"></a>脚注，边注与尾注</h2><h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>脚注是一种简单的标注，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是一段测试文本<span class="keyword">\footnote</span>&#123;这是一段脚注&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309164253562.png" alt="image-20220309164253562" style="zoom:80%;" /></p><p><strong>在某些情况下（如表格），脚注无法正常使用，可以通过在需要插入脚注的位置插入命令<code>\footnotemark</code>，然后再在环境外使用<code>\footnotetext</code>来指明脚注内容</strong>，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">这是一段测试文本<span class="keyword">\footnotemark</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\footnotetext</span>&#123;这是一段脚注内容&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>【渲染结果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309165118369.png" alt="image-20220309165118369" style="zoom:80%;" /></p><blockquote><p>行文中切记过多使用脚注，会分散读者的注意力</p></blockquote><h3 id="边注"><a href="#边注" class="headerlink" title="边注"></a>边注</h3><p><code>LaTex</code>的边注命令<code>\marginpar</code>不会进行编号，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 命令格式</span></span><br><span class="line"><span class="keyword">\marginpar</span>&#123;右侧注释内容&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 命令示例</span></span><br><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">这是一段测试文本<span class="keyword">\marginpar</span>&#123;这是右侧边注&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309165633332.png" alt="image-20220309165633332" style="zoom:95%;" /></p><h3 id="尾注"><a href="#尾注" class="headerlink" title="尾注"></a>尾注</h3><p>尾注用于注释比较长，无法使用脚注的场合，需要使用宏包<code>endnotes</code>。</p><h2 id="援引环境"><a href="#援引环境" class="headerlink" title="援引环境"></a>援引环境</h2><p><strong>普通的援引环境有<code>quote</code>和<code>quotation</code>两种。前者首行不缩进，后者首行缩进，且支持多段文字</strong>。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\noindent</span> 这是原文内容</span><br><span class="line"><span class="keyword">\begin</span>&#123;quote&#125;</span><br><span class="line">这是一段援引内容</span><br><span class="line"><span class="keyword">\end</span>&#123;quote&#125;</span><br><span class="line">这是后面的内容</span><br><span class="line"><span class="keyword">\begin</span>&#123;quotation&#125;</span><br><span class="line">这也是一段援引内容</span><br><span class="line"><span class="keyword">\end</span>&#123;quotation&#125;</span><br><span class="line">这也是后面的内容</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309170310170.png" alt="image-20220309170310170" style="zoom: 67%;" /></p><p>另外一个诗歌援引环境叫<code>verse</code>，是悬挂缩进的，一般很少用。</p><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>部分文档类环境支持摘要，如果使用摘要，这需要在<code>\maketitle</code>命令之后才可以使用<code>abstract</code>环境来完成摘要。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\title</span>&#123;这是文章标题&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;abstract&#125;</span><br><span class="line">这部分是摘要。这部分是摘要。这部分是摘要。这部分是摘要。这部分是摘要。这部分是摘要。这部分是摘要。这部分是摘要。</span><br><span class="line"><span class="keyword">\end</span>&#123;abstract&#125;</span><br><span class="line"></span><br><span class="line">这是正文内容</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309172432967.png" alt="image-20220309172432967" style="zoom: 80%;" /></p><blockquote><p>需要注意的是命令要放在<code>document</code>环境内</p></blockquote><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><strong>参考文献注意使用的命令是<code>\cite</code>。</strong></p><p>如果想要将参考文献章节正常编号，并加入到目录中，可以使用<code>tocbibind</code>宏包。</p><h1 id="正式排版：封面，大纲与目录"><a href="#正式排版：封面，大纲与目录" class="headerlink" title="正式排版：封面，大纲与目录"></a>正式排版：封面，大纲与目录</h1><h2 id="封面"><a href="#封面" class="headerlink" title="封面"></a>封面</h2><p>封面的内容在导言区进行定义，一般写在所有宏包，自定义命令之后，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\title</span>&#123;文章标题&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;作者名字&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125;<span class="comment">%\today命令表示获取当前时间</span></span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309180826184.png" alt="image-20220309180826184" style="zoom:80%;" /></p><p><strong>然后在<code>document</code>环境内第一行写上<code>\maketitle</code></strong>，这样就形成了一个简易的封面。<strong>其中，<code>\title</code>和<code>author</code>是必须定义的</strong>。<code>\date</code>省略会自动编译当天的日期为准。<strong>如果不想显示日期，这使用<code>\data&#123;&#125;</code></strong>即可。</p><p>标题页的脚注用<code>\thanks</code>命令完成。</p><h2 id="大纲与章节"><a href="#大纲与章节" class="headerlink" title="大纲与章节"></a>大纲与章节</h2><p><code>LaTex</code>中，文档分为若干大纲级别，分别包括如下内容：</p><ul><li><strong><code>\part</code>：部分，这个大纲不会打段<code>chapter</code>的编号</strong></li><li><strong><code>\chapter</code>：章，<code>article</code>的文档类不包含该大纲级别</strong></li><li><strong><code>\section</code>：节。</strong></li><li><strong><code>\subsection</code>：次节。</strong></li><li><strong><code>\subsubsection</code>：次节。</strong></li><li><strong><code>\paragraph</code>：段，很少使用</strong></li><li><strong><code>\subparagraph</code>：段，很少使用</strong></li></ul><p>book文档类还提供了以下命令：</p><ul><li><strong><code>\frontmatter</code>：前言。页码为小写罗马字母，其后章节不编号，但是生成页眉页脚和目录项</strong></li><li><strong><code>\mainmatter</code>：正文。页码为阿拉伯数字，其后章节编号，页眉页脚和目录项正常生成</strong></li><li><strong><code>\backmatter</code>：后记。页码格式不变，章节不编号，但生成页眉页脚和目录项</strong></li></ul><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><strong>目录在大纲的基础上生成，使用命令<code>\tableofcontents</code>既可插入目录。</strong></p><p>在加入宏包<code>hyperref</code>，目录可以实现点击跳转。关于更多高级目录自定义需要借助<code>titletoc</code>宏包。</p><h1 id="计数器与列表"><a href="#计数器与列表" class="headerlink" title="计数器与列表"></a>计数器与列表</h1><h2 id="计数器"><a href="#计数器" class="headerlink" title="计数器"></a>计数器</h2><p><code>LaTex</code>中的自动编号都借助内部的计数器来完成，计数器包括如下几种：</p><ul><li><strong>章节</strong>：part，chapter，section，subsection，subsubsection，paragraph，subparagraph</li><li><strong>编号列表</strong>：enumi，enumii，enumiii和enumiv</li><li><strong>公式和图表</strong>：equation，figure 与 table</li><li><strong>其他</strong>：page，footnote 与 mpfootnote</li></ul><p>可以通过<code>\the</code>接上计数器的名称来调用计数器，例如：<code>\thepart</code>。</p><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p><strong><code>LaTex</code>支持的预定义列表有三种，分别是无须列表<code>itemize</code>，自动编号列表<code>enumerate</code>，以及描述列表<code>description</code></strong>。</p><p><strong>无须列表</strong>命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;itemize&#125;</span><br><span class="line"><span class="keyword">\item</span> 第一项</span><br><span class="line"><span class="keyword">\item</span>[-] 第二项</span><br><span class="line"><span class="keyword">\item</span>[*] 第三项</span><br><span class="line"><span class="keyword">\end</span>&#123;itemize&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309185733983.png" alt="image-20220309185733983" style="zoom:80%;" /></p><p><strong>有序列表</strong>命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;enumerate&#125;</span><br><span class="line"><span class="keyword">\item</span> 第一项</span><br><span class="line"><span class="keyword">\item</span> 第二项</span><br><span class="line"><span class="keyword">\item</span> 第三项</span><br><span class="line"><span class="keyword">\end</span>&#123;enumerate&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309185946504.png" alt="image-20220309185946504" style="zoom: 80%;" /></p><p><strong>描述列表</strong>（自定义列表）命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;description&#125;</span><br><span class="line"><span class="keyword">\item</span>[LaTex] 第一项</span><br><span class="line"><span class="keyword">\item</span>[Tex] 第二项</span><br><span class="line"><span class="keyword">\item</span>[MarkDown] 第三项</span><br><span class="line"><span class="keyword">\end</span>&#123;description&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309190154869.png" alt="image-20220309190154869" style="zoom:80%;" /></p><h1 id="浮动体与图表"><a href="#浮动体与图表" class="headerlink" title="浮动体与图表"></a>浮动体与图表</h1><h2 id="浮动体"><a href="#浮动体" class="headerlink" title="浮动体"></a>浮动体</h2><p>浮动体将图或者表及其标题定义为整体，可以动态排版，以解决图，表在换页处造成的过长留白问题。</p><p><strong>图片的浮动体是<code>figure</code>环境，表格的浮动体是<code>table</code>环境。</strong></p><p>如果希望浮动体不要跨过<code>section</code>，可以使用如下命令：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>[section]&#123;placeins&#125;</span><br></pre></td></tr></table></figure><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><p>图片的插入需要使用宏包<code>graphicx</code>和<code>\includegraphics</code>命令。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;graphicx&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">这是正文内容，我是长长的内容，我真的很长并且有很多内容，我企图扩展到第二行，甚至第三行。</span><br><span class="line"><span class="keyword">\begin</span>&#123;center&#125;</span><br><span class="line"><span class="keyword">\includegraphics</span>[width=0.8<span class="keyword">\linewidth</span>]&#123;1.jpg&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;center&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309192047201.png" alt="image-20220309192047201" style="zoom:80%;" /></p><p>其中，可选参数可以指定其宽高等，类似地，也可以使<code>height</code>（高），<code>scale</code>（图片缩放倍数），<code>angle</code>（图片逆时针旋转角度），<code>origin</code>（图片选中中心）等命令。</p><blockquote><p>前三个命令不建议同时使用，旋转的图片基线会变化，所以一般使用<code>totalheight</code>代替<code>height</code></p></blockquote><p>至于<code>&#123;&#125;</code>里的参数的写法，<code>LaTex</code>支持<code>pdf</code>,<code>eps</code>,<code>png</code>与<code>jpg</code>格式，所以可以选择带有图片拓展名的表示方式，也可以不带拓展名，如果不带拓展名，则会按照上述格式顺序搜索图片。</p><blockquote><p>默认图片需要在<code>.tex</code>文件放在同一个文件夹下</p></blockquote><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><p>懒得解释了，就看一个简单的命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;tabular&#125;&#123;|c|c|c|&#125;</span><br><span class="line"><span class="keyword">\hline</span> 2<span class="built_in">&amp;</span>9<span class="built_in">&amp;</span>4<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span> 7<span class="built_in">&amp;</span>5<span class="built_in">&amp;</span>3<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span> 6<span class="built_in">&amp;</span>1<span class="built_in">&amp;</span>8<span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\end</span>&#123;tabular&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309194713871.png" alt="image-20220309194713871" style="zoom:80%;" /></p><h1 id="页面设置"><a href="#页面设置" class="headerlink" title="页面设置"></a>页面设置</h1><h2 id="纸张，方向和边距"><a href="#纸张，方向和边距" class="headerlink" title="纸张，方向和边距"></a>纸张，方向和边距</h2><p>详情参考宏包<code>geometry</code>。</p><h2 id="页眉和页脚"><a href="#页眉和页脚" class="headerlink" title="页眉和页脚"></a>页眉和页脚</h2><p>详情参考宏包<code>fancyhdr</code>。</p><h1 id="抄录与代码环境"><a href="#抄录与代码环境" class="headerlink" title="抄录与代码环境"></a>抄录与代码环境</h1><p>如果你希望直接输出相关内容而不经过<code>Tex</code>解释，可以使用<code>\verb</code>命令。命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;color&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\textcolor</span>&#123;red&#125;&#123;text&#125;</span><br><span class="line"><span class="keyword">\verb</span>*<span class="string">|\textcolor&#123;red&#125;&#123;text&#125;|</span></span><br><span class="line"><span class="string">\end&#123;document&#125;</span></span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309195249437.png" alt="image-20220309195249437" style="zoom:80%;" /></p><h1 id="分栏"><a href="#分栏" class="headerlink" title="分栏"></a>分栏</h1><p>分栏需要使用<code>multicol</code>宏包，命令示例：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;multicol&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;multicols&#125;&#123;2&#125;</span><br><span class="line">测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试</span><br><span class="line"><span class="keyword">\end</span>&#123;multicols&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>【渲染效果】</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220309195831024.png" alt="image-20220309195831024" style="zoom:80%;" /></p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LaTex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git与GitHub(上)</title>
      <link href="/HelloSeraphine.io/2022/05/22/Git%E4%B8%8EGitHub(%E4%B8%8A)/"/>
      <url>/HelloSeraphine.io/2022/05/22/Git%E4%B8%8EGitHub(%E4%B8%8A)/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这部分写于寒假，之前学过<code>git</code>一些基本操作，属于学个开始就由于别的事情暂时耽搁了，现在是大三寒假，我决定把它补上。</p><p>此处推荐两个网站，一个是git官方的书籍教程，一个是GitHub上比较有名的可视化git教程</p><ul><li><a href="https://learngitbranching.js.org/?locale=zh_CN">玩游戏学习git网站</a></li><li><a href="https://git-scm.com/book/zh/v2">特别好的git书籍</a></li></ul><h1 id="Git与GitHub简要"><a href="#Git与GitHub简要" class="headerlink" title="Git与GitHub简要"></a>Git与GitHub简要</h1><h2 id="关于GitHub"><a href="#关于GitHub" class="headerlink" title="关于GitHub"></a>关于<a href="https://github.com/">GitHub</a></h2><p><a href="https://github.com/">GitHub</a>作为最大的同性交友网站(雾)，<strong><a href="https://github.com/">GitHub</a>为开发者提供<code>Git</code>仓库的托管服务，可以让开发者及其相关人员共享代码的场所</strong>。可以暂时通俗理解为代码的仓库。</p><h2 id="关于Git"><a href="#关于Git" class="headerlink" title="关于Git"></a>关于Git</h2><p><strong>Git属于分散型版本管理系统，是为版本管理而设计的软件</strong>。</p><p>Linux的创始人Linus Torvalds在2005年开发了Git的原型程序，当时是为了更好的维护Linux系统。</p><p>关于这里有一个故事：一开始Linux之父是个人在开源做Linux，随着参与项目的人越来越多，Linux项目越来越复杂，Linux之父不得不在代码整理，纠错，审核，检查，发布的过程中耗费大量的时间，这样就严重影响了开发，于使Linux之父使用了当时的版本管理系统，虽然这样解决相关问题，当时由于技术宅的爱好，就把提供Linux之父版本控制厂商研发的版本管理系统给破解研究了，这样就违背了使用该软件的相关原则，于使Linux之父一生气，憋了一个月，开发出来了Git</p><h3 id="什么是版本管理"><a href="#什么是版本管理" class="headerlink" title="什么是版本管理"></a>什么是版本管理</h3><p>版本就是管理更新的历史记录。它为我们提供了一些在软件开发过程中必不可少的功能，例如记录一款软件添加或者更改源代码的过程，回滚到特定阶段，恢复误删除的文件等。</p><p>在Git出现以前，人们普遍采用Subversion(SVN)等集中型版本管理系统，而现在Git已经成为了主流。</p><h3 id="集中型与分散型"><a href="#集中型与分散型" class="headerlink" title="集中型与分散型"></a>集中型与分散型</h3><p>刚才说到的版本管理系统分为Subversion(SVN)这类集中型的与Git这类分散型的</p><ul><li><p><strong>集中型</strong></p><p>以Subversion为代表的集中型，会将如下图所示的仓库集中存放在服务器之中，所以只存在一个仓库，这就是为什么会被称为集中型。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202165523166.png" alt="image-20220202165523166" style="zoom:80%;" /></p><p>集中型将所有数据集中存放在服务器当中，有便于管理的优点。但是一旦开发者所处的环境不能连接服务器，就无法获取最新的源代码，开发也就几乎无法进行。服务器宕机时也是同样的道理，而且万一服务器故障导致数据消失，恐怕开发者就再也见不到代码了。</p></li><li><p><strong>分散型</strong></p><p>如下图为GitHub分散型示意图。如图中所示，GitHub将仓库<code>Fork</code>给了每一个用户。<code>Fork</code>就是将GitHub的某个特定仓库复制到自己的账户下。<code>Fork</code>出的仓库与原仓库是两个不同的仓库，开发者可以随意编辑。</p><p>​    <img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202171024187.png" alt="image-20220202171024187" style="zoom:80%;" /></p><p>分散型拥有多个仓库，相对而言稍显复杂。不过，由于本地的开发环境中就有仓库，所以开发者不必远程连接仓库就可以进行开发。</p></li></ul><h3 id="集中型和分散型哪个更好？"><a href="#集中型和分散型哪个更好？" class="headerlink" title="集中型和分散型哪个更好？"></a>集中型和分散型哪个更好？</h3><p>各有优缺点，根据具体情况而定，不存在绝对的“好”。</p><h2 id="GitHub与Git的区别"><a href="#GitHub与Git的区别" class="headerlink" title="GitHub与Git的区别"></a>GitHub与Git的区别</h2><p><strong>GitHub与Git完全是两个东西。在Git中，开发者将源代码存放进“Git仓库”的资料库中并加以使用和操作。而GitHub则是网络上提供Git仓库的一项服务。</strong></p><p>也就是说，GitHub上公开的软件源代码全部都由Git进行管理，所以理解Git，是熟练运用GitHub的关键。</p><h1 id="开始Git与GitHub之旅"><a href="#开始Git与GitHub之旅" class="headerlink" title="开始Git与GitHub之旅"></a>开始Git与GitHub之旅</h1><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><ul><li><p>Mac与Linux</p><p>无Mac系统，自行百度，Linux都以软件包(Package)的形式提供了，可以直接使用。</p></li><li><p>Windows</p><p>百度Git查找官网下载，或者点击这里<a href="https://git-scm.com/">Git官网</a>，然后选择Windows平台，或者直接在这里下载<a href="https://gitforwindows.org/">msysGit</a>，这两个是一个软件，选择一个合适的位数，下载，完成后双击运行，按照引导安装即可。</p><blockquote><p>说明：我使用的Git版本是<code>2.32.0.windows.2</code>，也是文章各种Git代码示例的演示版本</p></blockquote><ol><li><p>双击运行，选择下一步（Next）</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202213937370.png" alt="image-20220202213937370" style="zoom:80%;" /></p></li><li><p>选择安装位置，点击Next</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202214123824.png" alt="image-20220202214123824" style="zoom:80%;" /></p></li><li><p>根据需要选择相应组件，或者直接默认即可，点击Next</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202214851363.png" alt="image-20220202214851363" style="zoom:50%;" /></p></li><li><p>选择Win菜单中Git相关文件目录，无需求的可以选择默认，点击Next</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202215753488.png" alt="image-20220202215753488" style="zoom:80%;" /></p><p>如果选择默认，则在开始菜单中可以找到git相关文件如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202215946572.png" alt="image-20220202215946572" style="zoom:80%;" /></p></li><li><p>选择Git默认编辑器，无特殊需求默认即可，有特殊需求的需要另行安装编辑器，并在安装时指定编辑器，并配置相关环境变量。默认则直接点击Next即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202220139702.png" alt="image-20220202220139702" style="zoom:80%;" /></p></li><li><p>选择初始化仓库的主干名称，默认为第一项，即让Git选择，名称为<code>master</code>，未来可能会改名。第二项是我们可以自定义名称，下面附注的翻译为：<em>很多团队已经重命名他们的默认主干名，常见的选择为 main，trunk 以及 development，你可以修改你的主干名称为：</em></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202220739690.png" alt="image-20220202220739690" style="zoom:80%;" /></p></li><li><p>选择修改Path环境变量，无特殊需求可以直接默认，点击Next即可<br><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202221014355.png" alt="image-20220202221014355" style="zoom:80%;" /><br>翻译：<br><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202221903449.png" alt="image-20220202221903449" style="zoom:70%;" /></p></li><li><p>选择HTTPS后端传输规则，同理无特殊需求默认即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202222429285.png" alt="image-20220202222429285" style="zoom:80%;" /></p><blockquote><p>关于两个选项的区别可以参考[<a href="https://stackoverflow.com/questions/62456484/whats-the-difference-between-openssl-and-the-native-windows-secure-channel-libr">What’s the difference between OpenSSL and the native windows Secure Channel library</a>]</p></blockquote></li><li><p>末尾换行符的处理，同理无特殊需求，默认即可</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202222547719.png" alt="image-20220202222547719" style="zoom:80%;" /></p><p>GitHub中公开的代码大部分都是以Mac或Linux中的LF(Line Feed)换行。然而，由于Windows中是以CRLF(Carriage Return + Line Feed)换行的，所以在非对应的编辑器中将不能正常显示。</p><p>Git可以通过设置自动转换这些换行符。对于使用Windows环境的用户来说，直接选择默认的”Checkout Windows-style,commit Unix-style line endings”选项。换行符在<code>checkout</code>时会自动转换为CRLF，在提交时则会自动转换为LF。</p><blockquote><p>相关说明：<a href="https://zhuanlan.zhihu.com/p/380574688">关于CRLF和LF的差异</a></p></blockquote></li><li><p>配置终端模拟器与Git Bash一起使用，同理无特殊需求默认即可，点击Next。<img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202225251266.png" alt="image-20220202225251266" style="zoom:80%;" /></p><p>翻译：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202230152589.png" alt="image-20220202230152589" style="zoom:70%;" /></p></li><li><p>选择默认的<code>git pull</code>行为，无特殊需求默认即可，点击Next。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202230311097.png" alt="image-20220202230311097" style="zoom:80%;" /></p></li><li><p>选择一个凭证帮助管理，无特殊需求无须配置，点击Next即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202230538736.png" alt="image-20220202230538736" style="zoom:80%;" /></p></li><li><p>其他配置，无特殊需求默认即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202230710959.png" alt="image-20220202230710959" style="zoom:80%;" /></p><p>翻译：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202231151069.png" alt="image-20220202231151069" style="zoom:70%;" /></p></li><li><p>实验性功能选项，无特殊需求默认即可，然后选择<code>Install</code>等待安装即可。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202231220516.png" alt="image-20220202231220516" style="zoom:80%;" /></p></li><li><p>安装成功后可以通过鼠标右键查看到如下快捷导航：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202231356420.png" alt="image-20220202231356420" style="zoom:67%;" /></p></li></ol></li></ul><h2 id="Git初始设置"><a href="#Git初始设置" class="headerlink" title="Git初始设置"></a>Git初始设置</h2><p>在随便一个位置，右键鼠标，选择<code>Git Bash Here</code>，在之后弹出的程序控制台中进行操作。</p><blockquote><ol><li><code>Git GUI Here</code>是Git提供的GUI图形化界面，但是用处不大，可以不用考虑</li><li>关于<a href="https://baike.baidu.com/item/Bash/6367661?fr=aladdin"><code>Bash</code>出处由来(点击查看)</a></li></ol></blockquote><ul><li><p><strong>设置姓名和邮箱地址</strong></p><p>使用如下代码来设置使用Git时的姓名和邮箱地址，名称使用英文输入。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">设置名称和邮箱地址</span></span><br><span class="line">git config --global user.name &quot;你自定义的名称&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱地址&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看当前名称和邮箱地址</span></span><br><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><p>运行结果示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202233416626.png" alt="image-20220202233416626" style="zoom:67%;" /></p><p><strong>这里设置的姓名和邮箱地址会用在Git的提交日志中。由于GitHub上公开仓库时，这里的姓名和邮箱也会随着提交日志一同被公开，所以注意不要使用隐私信息</strong>。</p></li><li><p><strong>提高命令输出的可读性</strong></p><p>可以通过将<code>color.ui</code>设置为<code>auto</code>来让命令的输出有更高的可读性。代码示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global color.ui auto</span><br></pre></td></tr></table></figure></li></ul><h2 id="GitHub的相关准备"><a href="#GitHub的相关准备" class="headerlink" title="GitHub的相关准备"></a>GitHub的相关准备</h2><p>访问GitHub网页，或者<a href="https://github.com/">单击这里</a>，进行GitHub的相关准备。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202234926203.png" alt="image-20220202234926203" style="zoom:80%;" /></p><ul><li><p><strong>创建账户</strong></p><p>进入如下类似界面创建账户，需要注意的是Username设置好后，个人公开页面URL即（<a href="https://github.com/+username），其他项目根据提示完成填写并创建账户。">https://github.com/+username），其他项目根据提示完成填写并创建账户。</a></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220202235255910.png" alt="image-20220202235255910" style="zoom:67%;" /></p></li><li><p><strong>设置头像</strong></p><p>在GitHub上随处可见的头像是通过<a href="http://cn.gravatar.org/">Gravatar</a>服务显示的。使用过<code>WordPress</code>的玩家可能会对它有所了解。</p><p>当然现在，可以直接点击我的头像，进入设置，上传自定义头像。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203000017875.png" alt="image-20220203000017875" style="zoom:80%;" /></p></li><li><p><strong>设置SSH Key</strong></p><p><strong>GitHub上链接已有仓库时的认证，是通过SSH公开密钥认证方式进行的。现在需要来创建公开密钥认证所需要的SSH Key，并将其添加到GitHub上</strong>。运行下面的命令来创建SSH Key：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;这里添你的邮箱&quot; </span><br></pre></td></tr></table></figure><p>输入后会弹出一行提醒：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter file in which to save the key (/c/Users/电脑用户文件夹/.ssh/id_rsa):</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">这里是告诉你SSH key保存在哪个路径下，只需要按下回车确认就可以</span></span><br></pre></td></tr></table></figure><p>剩下的如下图所示，根据提示设置密码：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203122043906.png" alt="image-20220203122043906" style="zoom:80%;" /></p><blockquote><p>需要注意的是，<strong>密码输入后会不显示在控制台上</strong>，所以不要误认为控制台失灵了</p></blockquote><p>设置成功会弹出如下提醒：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203124607435.png" alt="image-20220203124607435" style="zoom:80%;" /></p><p>同样的，你可以在它保存的路径下找到相关公钥和密钥文件：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203123240917.png" alt="image-20220203123240917" style="zoom:80%;" /></p><blockquote><p>关于<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh">SSH密钥的官方说明</a></p></blockquote></li><li><p>在GitHub上<strong>添加公开密钥</strong></p><p>在GitHub上添加公开密钥，今后就可以使用私有密钥进行认证了。</p><p>进入GitHub网站，登录你的账户，单击头像，选择<code>Settings</code>（设置）</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203123809744.png" alt="image-20220203123809744" style="zoom:90%;" /></p><p>进入设置页面，在左栏找到<code>SSH and GPG keys</code>，单击进入，在<code>SSH keys</code>栏选择<code>New SSH keys</code>（创建新的公钥）</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203124044881.png" alt="image-20220203124044881" style="zoom:80%;" /></p><p><strong><code>Title</code>部分可以自定义，<code>Key</code>需要填写公钥文件里的内容</strong>，可以通过找到路径文件，选择以记事本格式打开，或者通过下面的命令来查看：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203124502974.png" alt="image-20220203124502974" style="zoom:80%;" /></p><p>点击添加，输入密码二次确认，添加成功后，可以在<code>SSH keys</code>栏看到刚刚添加的公钥，并且创建账户时所用的邮箱也会收到一封“公钥添加完成”的邮件提醒。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203124944367.png" alt="image-20220203124944367" style="zoom:80%;" /></p><p><strong>在添加完成后，现在可以尝试使用手中的私钥与GitHub进行认证和通信了</strong>。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>出现如下提示，则表示连接成功。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203125551594.png" alt="image-20220203125551594" style="zoom:80%;" /></p><blockquote><p>同理，这里输入密码，也是不可见的</p></blockquote></li><li><p><strong>使用社区功能</strong></p><p>你可以通过<code>Follow</code>来关注某人，这样一来，你关注的对象（用户）的活动就会在你的控制面板中显示出来，你可以看到该用户在GitHub上做了什么，可以通俗理解为微博关注了某人，某人的动态你就可以看到了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203130013684.png" alt="image-20220203130013684" style="zoom:80%;" /></p></li></ul><h2 id="GitHub实操上手"><a href="#GitHub实操上手" class="headerlink" title="GitHub实操上手"></a>GitHub实操上手</h2><ul><li><p><strong>创建仓库</strong></p><p>在GitHub右上角，点击加号，选择<code>New repository</code>来创建新仓库。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203132232745.png" alt="image-20220203132232745" style="zoom:80%;" /></p><ol><li><p><strong>Repository template(存储库模板)</strong></p><p>可以选择自定义存储卡模板，无特殊需求可以不用管。</p></li><li><p><strong>Repository name(仓库名称)</strong></p><p>为你创建的仓库自定义一个名称。</p></li><li><p><strong>Description(仓库描述)</strong></p><p>为你仓库添加一个描述，可以为空</p></li><li><p><strong>Public/Private(仓库类型)</strong></p><p>仓库的类型，<strong>Public</strong>或者<strong>Private</strong>：</p><ul><li><strong>Public：公开/公有，即别人可以看到你的代码</strong></li><li><strong>Private：私有，即别人看不到，只有自己或者授权的人才可以访问</strong></li></ul><p>私有仓库收费的，不过被微软爸爸收购后，可以免费提供最多3人协助私有仓库支持。</p><p>目前示例，创建公有即可</p></li><li><p><strong>Initializa this repository with(初始化命令/文件)</strong></p><ul><li><p><strong>Add a README file(创建一个ReadMe文件)</strong>：即仓库创建后，里面附带一个ReadMe文件。</p><p>ReadMe文件本质是一个记事本，不过其后缀为<code>.md</code>，如果熟悉<code>Markdown</code>的会了解这个文件，一般用来说明仓库包含软件的概要，使用流程，许可协议等信息，可以理解为仓库的说明文档，即使用手册和相关说明。</p><blockquote><p>关于<code>Markdown</code>语法格式及其相关教程可以点击这里<a href="https://helloseraphine.top/index.php/archives/57.html">浅谈MarkDown基础</a></p></blockquote></li><li><p><strong>Add .gitignore(创建.gitignore文件)</strong>：即仓库创建后，附带.gitignore文件。</p><p>这个我没用过，以下内容出自作者: <a href="https://book.douban.com/search/大塚弘记">[日] 大塚弘记</a>的《GitHub入门与实践》</p><p><em>这个设定会帮我们把不需要在Git仓库中进行版本管理的文件记录在<code>.gitignore</code>文件中，省去了每次根据框架进行设置的麻烦，选择后下拉菜单包含主要的语言及框架，选择今后将要使用的即可。</em></p></li><li><p><strong>Add a license(创建许可协议文件)</strong>：即仓库创建后，附带LICENSE协议文件。</p><p>选择后，可以根据下拉菜单来选择许可协议，仓库创建后会自动生成许可协议的LICENSE文件，用来表明仓库的许可协议。</p></li></ul></li><li><p>全部选择完成后，点击创建即可创建一个新的仓库。</p></li></ol><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203132947022.png" alt="image-20220203132947022" style="zoom:80%;" /></p></li><li><p><strong>仓库初始页面</strong></p><p>如下为创建的新仓库页面示例：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203140859991.png" alt="image-20220203140859991" style="zoom:100%;" /></p><p>我们可以通过示例连接来<code>Clone</code>仓库，或者其他方式</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/L-Seraphine/Test.git</span><br></pre></td></tr></table></figure><ul><li><p>ReadMe：可以看到我们在ReadMe中的内容会被直接显示在仓库的最下面，所以一般会在该文件中注明仓库包含的文件说明，使用说明，许可协议，支持等信息。可以使用普通文本，或者使用<code>Markdown</code>语法实现其他效果，来提高可读性。</p></li><li><p><strong>GitHub Flavored Markdown(GitHub 风格的 Markdown)</strong>：在GitHub上进行交流时使用的Issue，评论，Wiki等都可以使用<code>Markdown</code>语法表述。准确的来说是GitHub Flavored Markdown（GFM）语法，该语法是在<code>Markdown</code>语法的基础上扩充来的，一般情况下，使用原本的<code>Markdown</code>语法即可。</p><blockquote><p>关于<a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">GFM语法的官方文档说明</a></p></blockquote></li></ul></li><li><p><strong>使用Git对仓库的基本操作</strong></p><ul><li><p><strong><code>Clone</code>仓库</strong></p><p>选择一个要克隆的文件夹，对着空白处右键，选择<code>Git Bash here</code>，然后在控制台输入如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone 这里是仓库的地址</span><br></pre></td></tr></table></figure><p>仓库地址可以在GitHub SSH选项下复制：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203142932527.png" alt="image-20220203142932527" style="zoom:67%;" /></p><p>然后输入设置密钥时的密码即可<code>Clone</code>该仓库到指定的本地文件夹：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203143317515.png" alt="image-20220203143317515" style="zoom:77%;" /></p></li><li><p><strong>编写代码</strong></p><p>现在在<code>Clone</code>的本地文件夹下，创建文件<code>1.txt</code>，随便写些内容。例如：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure><p>然后通过输入以下命令来查看文件状态：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203151755689.png" alt="image-20220203151755689" style="zoom:80%;" /></p></li><li><p><strong>提交</strong></p><p>然后将<code>1.txt</code>提交到仓库，这样，这个文件就进入了版本管理系统的管理之下。今后的更改管理都交给Git进行。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add 1.txt</span><br></pre></td></tr></table></figure><p><strong>通过<code>git add</code>命令将文件加入暂存区，再通过<code>git commit</code>命令提交。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;update 1.txt&quot;</span><br></pre></td></tr></table></figure><p><strong>添加成功后可以使用<code>git log</code>命令来查看提交日志。</strong></p></li><li><p><strong>进行<code>Push</code></strong></p><p>之后只需要执行<code>push</code>命令，就可以将GitHub上的仓库进行更新。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203152218078.png" alt="image-20220203152218078" style="zoom:80%;" /></p><p>这样一来，我们更新的操作就会在GitHub上面公开了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203152310838.png" alt="image-20220203152310838" style="zoom:80%;" /></p></li></ul></li></ul><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1><p>这是基本的Git和GitHub的基础和交互基础，对于Git和GitHub连接提交等命令看不懂目前没问题，只需要跟着操作熟悉一下环境和命令即可，后面的部分会详细讲述git相关命令。</p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git与GitHub(中)</title>
      <link href="/HelloSeraphine.io/2022/05/22/Git%E4%B8%8EGitHub(%E4%B8%AD)%20/"/>
      <url>/HelloSeraphine.io/2022/05/22/Git%E4%B8%8EGitHub(%E4%B8%AD)%20/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这部分将讲述Git相关的基本知识和操作方法。</p><p>各种Git命令操作，需要鼠标右键选择，<code>Git Bash here</code>来开始。</p><h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><ul><li><p><strong><code>git init</code>——初始化仓库</strong></p><p><strong>要使用Git进行版本管理，必须先初始化仓库。</strong>Git是使用<code>git init</code>命令进行初始化的。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203172122036.png" alt="image-20220203172122036" style="zoom:80%;" /></p><p><strong>如果初始化成功，执行了<code>git init</code>命令的目录下就会生成<code>.git</code>目录。这个目录里存储着管理当前目录内容所需的仓库数据</strong>。</p><blockquote><p><code>.git</code>目录默认隐藏，需要开启查看隐藏文件才可以查看到</p></blockquote><p>在Git中，我们将这个目录的内容称为“附属于该仓库的工作树”。文件的编辑等操作在工作树中进行，然后记录到仓库中，以此管理文件的历史快照。如果想将文件恢复到原先的状态，可以从仓库中调取之前的快照，在工作树中打开。开发者可以通过这种方式来获取以往的文件，具体的操作指令后面会说明。</p></li><li><p><strong><code>git status</code>——查看仓库状态</strong></p><p><strong><code>git status</code>命令用于显示Git仓库的状态。</strong></p><p>工作树和仓库在被操作的过程中，状态会不断发生变化。在Git操作的过程中，要常看仓库状态。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">nothing to commit (create/copy files and use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure><p>结果显示我当前处于<code>master</code>分支下。关于分支我们会在后面讲到。接着还显示了没有可提交的内容。所谓提交(Commit)，是指“记录工作树中所有文件的当前状态”。</p><p>没有可提交内容，就是说明我们当前建立这个仓库中还没有记录任何文件的任何状态。这里，创建一共Readme文件作为示例，为第一次提交做前期准备。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220203184854865.png" alt="image-20220203184854865" style="zoom:80%;" /></p><p>可以看到在Untracked files中显示了Readme.md文件。类似地只要对Git的工作树或仓库进行操作，<code>git status</code>命令的显示结果就会发生变化。</p></li><li><p><strong><code>git add</code>——向暂存区中添加文件</strong></p><p>如果只是用Git仓库的工作树创建了文件，那么该文件并不会被计入Git仓库的版本管理对象当中。因此我们使用<code>git status</code>命令查看ReadMe.md文件时，它会显示在Untracked files里。</p><p><strong>要想让文件成为Git仓库的管理对象，就需要用<code>git add</code>命令将其加入暂存区（Stage或者Index）中</strong>。<strong>暂存区是提交之前的一个临时区域</strong>。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205105924838.png" alt="image-20220205105924838" style="zoom:80%;" /></p><p>将ReadMe.md文件加入暂存区后，<code>git status</code>命令的显示结果发生了变化。可以看到，ReadMe.md文件显示在Changes to be committed中了。</p></li><li><p><strong><code>git commit</code>——保存仓库的历史记录</strong></p><p><strong><code>git commit</code>命令可以将当前暂存区中的文件实际保存到仓库的历史记录中</strong>。通过这些记录，我们就可以在工作树中复原文件。</p><ol><li><p><strong>记录一行提交信息</strong></p><p>命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;这里是提交信息，是对提交的描述&quot;</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205110529770.png" alt="image-20220205110529770" style="zoom:80%;" /></p></li><li><p><strong>记录详细的提交信息</strong></p><p>上述命令示例，提交了一行简单的提交信息，如果希望更加详细的描述提交信息，就不需要加<code>-m</code>，直接执行<code>git commit</code>命令。如下所示：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">不需要加-m了</span></span><br><span class="line">git commit</span><br></pre></td></tr></table></figure><p>执行后编辑器会启动显示如下效果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Please enter the commit message <span class="keyword">for</span> your changes. Lines starting</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">with <span class="string">&#x27;#&#x27;</span> will be ignored, and an empty message aborts the commit.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># On branch master</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Changes to be committed:</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">new file:   ReadMe.md</span></span><br><span class="line"><span class="meta prompt_">#</span></span><br></pre></td></tr></table></figure><p>在编辑器中记述提交信息的格式如下（可以不用遵守这个格式，此格式只是提高可读性）：</p><ul><li>第一行：用一行文字简要描述提交信息</li><li>第二行：空行</li><li>第三行以后：记录更改的原因和详细的内容</li></ul><p>只要按照上面的格式输入，今后便可以通过确认日志命令或者工具看到这些记录。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">这是一行注释</span><br><span class="line"></span><br><span class="line">这是详细的注释信息，可以一直写，都是文件更改注释描述</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Please enter the commit message <span class="keyword">for</span> your changes. Lines starting</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">with <span class="string">&#x27;#&#x27;</span> will be ignored, and an empty message aborts the commit.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># On branch master</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Changes to be committed:</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">new file:   ReadMe.md</span></span><br><span class="line"><span class="meta prompt_">#</span></span><br></pre></td></tr></table></figure><p>在以<code>#</code>标为注释的Changes to be committed（要提交的更改）栏中，可以查看本次提交中包含的文件。将要提交信息按格式记录完毕后，保存然后关闭编辑器，以<code>#</code>标注为注释的行不必删除，随后，刚才记录的提交信息就会被提交。</p></li><li><p><strong>中止提交</strong></p><p>如果在编辑器启动后想中止提交，直接将提交信息留空关闭编辑器即可。</p></li><li><p><strong>查看提交后的状态</strong></p><p>执行完毕<code>git commit</code>命令后再来查看当前状态：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205113345688.png" alt="image-20220205113345688" style="zoom:80%;" /></p></li></ol></li><li><p><strong><code>git log</code>——查看提交日志</strong></p><p><strong><code>git log</code>命令可以查看以往仓库中的提交日志。</strong>包括什么人在什么时候进行了提交和合并，以及操作前后的差别等。现在来查看之前<code>git commit</code>的命令是否被记录了：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205113611232.png" alt="image-20220205113611232" style="zoom:80%;" /></p><p>可以看到已经记录了我们的提交记录。<strong><code>commit</code>后面显示的“4b68….”，是指向这个提交的哈希值。<code>Git</code>的其他命令中，在指向提交时也会用到这个哈希值。<code>Author</code>是提交人的用户名和邮箱地址。<code>Date</code>栏显示的提交时间，然后后面就是提交的信息。</strong></p><ol><li><p><strong>只显示提交信息的第一行</strong></p><p>如果只想让程序显示第一行简述信息，可以在<code>git log</code>命令后加上<code>--pretty=short</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --pretty=short</span><br></pre></td></tr></table></figure></li><li><p><strong>只显示指定目录，文件的日志</strong></p><p>只要在<code>git log</code>命令后面加上目录名或者文件名就可以显示于该目录或者文件相关的记录。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令示例：</span></span><br><span class="line">git log ReadMe.md</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205114741582.png" alt="image-20220205114741582" style="zoom:80%;" /></p></li><li><p><strong>显示文件的改动</strong></p><p>如果想查看文件提交所带来的改动，可以加上<code>-p</code>参数。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log -p</span><br></pre></td></tr></table></figure><p>如果只想查看某文件的提交日志以及前后差异可以使用如下格式：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">命令格式：</span></span><br><span class="line">git log -p 文件名</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">命令示例：</span></span><br><span class="line">git log -p ReadMe.md</span><br></pre></td></tr></table></figure></li></ol></li><li><p><strong><code>git diff</code>——查看更改前后的差别</strong></p><p><code>git diff</code>命令可以查看工作树，暂存区，最新提交之间的差别。</p><p>现在我们在之前提交的ReadMe.md中写点东西：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是新写的东西</span><br></pre></td></tr></table></figure><ol><li><p><strong>查看工作树和暂存区的区别</strong></p><p>执行<code>git diff</code>命令，查看工作树与暂存区的差别。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205125519560.png" alt="image-20220205125519560" style="zoom:80%;" /></p><p>因为我们并没有使用<code>git add</code>命令将工作树的文件添加到暂存区，所以程序只显示工作树与最新提交状态之间的差别。</p><p><strong><code>+</code>号标出的是新添加的行，被删除的行用<code>-</code>标出</strong>，由此可以看出只添加了一行。</p><p>现在使用<code>git add</code>将修改后的文件添加到暂存区</p></li><li><p><strong>查看工作树和最新提交的差别</strong></p><p>如果我们现在执行<code>git diff</code>命令，由于工作树和暂存区的状态没有差别，结果是什么也不会显示。要查看与最新提交的差别，需要执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205125900504.png" alt="image-20220205125900504" style="zoom:80%;" /></p><p>然后我们就可以直接进行提交<code>git commit</code>了，提交完毕后使用<code>git log</code>命令检查一下提交是否被记录。</p></li></ol></li></ul><blockquote><p>如果进入<code>git log</code>日志最后发现了<code>&lt;End&gt;</code>，说明进入日志文件，这个时候按<code>q</code>就可以退出</p></blockquote><h1 id="分支的操作"><a href="#分支的操作" class="headerlink" title="分支的操作"></a>分支的操作</h1><p><strong>在进行多个并行作业时，我们会用到分支</strong>。在这类并行开发的过程中，往往同时存在多个最新代码状态。如下图所示，从<code>master</code>分支创建分支A和分支B后，每个分支中都拥有自己的最新代码。<code>master</code>分支是Git默认创建的分支，因此基本上所有开发都是以这个分支为中心进行的。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205131656707.png" alt="image-20220205131656707" style="zoom:80%;" /></p><p><strong>不同的分支中，可以同时进行完全不同的作业。等该分支的作业完成之后再与<code>master</code>分支合并</strong>。比如A分支的作业结束后再与<code>master</code>合并。如下图：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205131939324.png" alt="image-20220205131939324" style="zoom: 67%;" /></p><ul><li><p><strong><code>git branch</code>——显示分支一览表</strong></p><p><code>git branch</code>命令可以将分支名列表显示，同时可以确认当前所在的分支。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205132950335.png" alt="image-20220205132950335" style="zoom:80%;" /></p><p><strong>可以看到<code>master</code>分支左侧有<code>*</code>号，表示这是我们当前所在的分支</strong>。也就是说，我们正在<code>master</code>分支下进行开发。<strong>结果中没有显示其他分支名，表示本地仓库中只存在<code>master</code>一个分支</strong>。</p></li><li><p><strong><code>git checkout -b</code>——创建，切换分支</strong></p><p>如果想以当前的<code>master</code>分支为基础创建新的分支，需要用到<code>git checkout -b</code>命令。命令格式如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b 需要创建的分支名称</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205145339982.png" alt="image-20220205145339982" style="zoom: 67%;" /></p><p>实际上<code>git checkout -b</code>命令，是下面的命令合并效果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建分支<span class="built_in">test</span></span></span><br><span class="line">git branch test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">指针切换到分支<span class="built_in">test</span>，之前一直默认在主分支即master上</span></span><br><span class="line">git checkout test</span><br></pre></td></tr></table></figure><p><strong>如果在<code>test</code>分支的左边有<code>*</code>号，则表示目前指针指向该分支，如果这个时候正常开发修改代码，再提交的话，代码就会提交到<code>test</code>分支下</strong>。像这样不断对一个分支进行提交的操作，称为“培育分支”。</p><p><strong>如果我们想要快速切换回上一个分支，可以使用<code>-</code>代替分支名</strong>，命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205151438821.png" alt="image-20220205151438821" style="zoom:67%;" /></p></li><li><p><strong>特性分支</strong></p><p>Git与SVN等集中型版本管理系统不同，创建分支不需要连接中央仓库，所以能够轻松创建分支。因此，当今大部分工作流程中都用到了特性(Topic)分支。</p><p>特性分支顾名思义，是集中实现单一特性（主题），除此之外不进行任何作业的分支。在日常快开发中，往往会创建数个特性分支，同时在此之外再保留一个随时可以发布软件的稳定分支。稳定分支的角色同时由<code>master</code>分支担当。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205154334634.png" alt="image-20220205154334634" style="zoom:80%;" /></p><p>例如之前创建的分支A，这一分支主要实现A需求，除A需求之外不进行任何作业，即便在开发过程中发现了BUG，也需要创建新的分支，在新的分支中进行。</p><p>基于特定主题的作业在特性分支中进行，主题完成后再与<code>master</code>分支合并。只要保持这样一个开发流程，就能保证<code>master</code>分支可以随时供人查看。这样一来，其他开发者也可以放心大胆的从<code>master</code>分支创建新的特性分支。</p></li><li><p><strong>主干分支</strong></p><p>主干分支是特性分支的原点，同时也是合并的终点。一般来说是以<code>master</code>分支作为主干分支。</p></li><li><p><strong><code>git merge</code>合并分支</strong></p><p>现在假设我们前面创建的<code>test</code>分支以及实现完毕了，想要将它合并到主干分支<code>master</code>中，首先切换到<code>master</code>分支上：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br></pre></td></tr></table></figure><p>然后合并<code>test</code>分支。为了在历史记录记录下来本次分支合并，需要创建合并提交。<strong>因此，在合并时加上<code>--no-ff参数</code></strong>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --no-ff test</span><br></pre></td></tr></table></figure><p>然后编辑器弹出，添加一定的描述，关闭编辑器后，就完成分支合并了。</p></li><li><p><strong><code>git log --graph</code>——以图表形式查看分支</strong></p><p>用<code>git log --graph</code>命令查看，能很清楚地看到很多信息。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205160840715.png" alt="image-20220205160840715" style="zoom: 67%;" /></p></li></ul><h1 id="更改提交的操作"><a href="#更改提交的操作" class="headerlink" title="更改提交的操作"></a>更改提交的操作</h1><h2 id="git-reset——回溯历史版本"><a href="#git-reset——回溯历史版本" class="headerlink" title="git reset——回溯历史版本"></a><strong><code>git reset</code>——回溯历史版本</strong></h2><p>在前面基础操作，以及可以在实现功能后进行提交，累积提交日志作为历史记录，借此不断培育一款软件。</p><p>Git的另一特性是可以灵活的操作历史版本，借助分散仓库的优势，可以在不影响其他仓库的前提下对历史版本进行操作。</p><p>现在进行版本回溯，然后再创建一个<code>B</code>特性分支，Git目前结构如下：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205165541460.png" alt="image-20220205165541460" style="zoom:67%;" /></p><p>我们需要先回溯到分支<code>A</code>的之前的分支节点，然后创建一个名为<code>B</code>的特性分支。要让仓库的HEAD，暂存区，当前工作树回溯到指定状态，需要使用<code>git reset --hard</code>命令。只要提高目标时间点的哈希值。就可以完全恢复到该时间点状态。命令示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要注意的是，每个哈希值不一样，操作的时候看自己的哈希值</span></span><br><span class="line">git reset --hard a369bfe343a6ce72d75b39db804da6f46769be2d</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205171050472.png" alt="image-20220205171050472" style="zoom:67%;" /></p><p>现在来创建新分支B，并且在新分支中，在ReadMe.md文件中添加一些文字，然后提交ReadMe.md文件。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205171518879.png" alt="image-20220205171518879" style="zoom:67%;" /></p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205171548568.png" alt="image-20220205171548568" style="zoom:67%;" /></p><p>现在分支状态如下：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205171825806.png" alt="image-20220205171825806" style="zoom:67%;" /></p><p>现在需要恢复到分支<code>A</code>合并后的状态，使用<code>git log</code>只能查看当前状态为终点的历史记录。所以需要使用<code>git reflog</code>命令，查看当前仓库的操作日志。在日志中找出回溯历史之前的哈希值，然后通过<code>git reset --hard</code>命令回溯到历史之前的状态。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205172249850.png" alt="image-20220205172249850" style="zoom: 50%;" /></p><p>从日志里可以看到我们所有的操作，只要不进行Git的GC（Garbage Colloection，垃圾回收）就可以通过日志随意调取历史状态。可以了解到我们要恢复的时间点哈希值为：7092c19b410daac6937a906966b78565e6432771，其实我们只需要输入前面的7092c19即可执行恢复。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205172957748.png" alt="image-20220205172957748" style="zoom:67%;" /></p><p>恢复后的状态：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205173422425.png" alt="image-20220205173422425" style="zoom:70%;" /></p><h2 id="消除冲突"><a href="#消除冲突" class="headerlink" title="消除冲突"></a><strong>消除冲突</strong></h2><p>现在只需要合并分支<code>B</code>就可以满足我们想要的状态：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205173630138.png" alt="image-20220205173630138" style="zoom: 67%;" /></p><p>执行合并后：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205174155577.png" alt="image-20220205174155577" style="zoom:67%;" /></p><p>这是，系统告诉我们ReadMe.md合并过程中发生冲突(Conflict)。系统在合并ReadMe.md文件时，分支A更改的部分和分支B更改的部分发生了冲突。</p><p>所以需要解决冲突来完成合并。</p><ul><li><p><strong>查看冲突部分并将其解决</strong></p><p>使用编辑器打开ReadMe.md查看文件，会发现文件的内容变成如下示例类似样子：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205174526571.png" alt="image-20220205174526571" style="zoom:60%;" /></p><p><code>==========</code>以上的部分是当前HEAD的内容，以下的内容是要合并的分支B中的内容，现在将其该成我们想要的样子</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205174715520.png" alt="image-20220205174715520" style="zoom:60%;" /></p><p>现在内容被修改成了我们想要保存的样子，冲突解决</p></li><li><p><strong>提交最后的解决方案</strong></p><p>现在来执行<code>git add</code>命令和<code>git commit</code>命令来完成提交</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205174916848.png" alt="image-20220205174916848" style="zoom:67%;" /></p></li></ul><h2 id="git-commit-amend——修改提交信息"><a href="#git-commit-amend——修改提交信息" class="headerlink" title="git commit --amend——修改提交信息"></a><strong><code>git commit --amend</code>——修改提交信息</strong></h2><p>要修改上一条提交信息，可以使用<code>git commit --amend</code>命令，执行该命令后，会弹出编辑器，对内容进行修改后，关闭编辑器即可完成修改。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205181447963.png" alt="image-20220205181447963" style="zoom:60%;" /></p><h2 id="git-rebase-i——压缩历史"><a href="#git-rebase-i——压缩历史" class="headerlink" title="git rebase -i——压缩历史"></a><strong><code>git rebase -i</code>——压缩历史</strong></h2><p>在合并特性分支之前，如果发现已提交的内容中有些许拼写错误等，不妨提交一个修改，然后将这个修改包含到前一个提交之中，压缩成一个历史记录。</p><p>现在我们新开一个分支<code>C</code>并且修改其中的内容来作为后面修正。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205183834327.png" alt="image-20220205183834327" style="zoom:67%;" /></p><p>然后提交故意修改错误的内容，可以通过如下命令来一次执行到暂存区再到<code>commit</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am</span><br></pre></td></tr></table></figure><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205184112266.png" alt="image-20220205184112266" style="zoom:67%;" /></p><ul><li><p><strong>修正拼写错误</strong></p><p>现在来修正刚刚的错误，修正完毕后查看修正前后的差别。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205184435866.png" alt="image-20220205184435866" style="zoom:67%;" /></p><p>然后进行提交</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205184620781.png" alt="image-20220205184620781" style="zoom:67%;" /></p><p>这种后来进行修正的错误，我们不希望在历史记录中看到这类提交，因为健全的历史记录不需要它们。如果在第一次合并中就发现并修正这些错误，也就不会出现这类提交了。</p></li><li><p><strong>更改历史</strong></p><p>因此，我们需要来更改历史。将修正的内容与之前的提交合并，在历史记录合并为一次完美的提交。因此，我们需要使用<code>git rebase</code>命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~2</span><br></pre></td></tr></table></figure><p>用上述命令，可以选定当前分支包含HEAD（最新提交）在内的两个最新历史记录为对象，并在编辑器中打开。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205193525354.png" alt="image-20220205193525354" style="zoom:67%;" /></p><p>将6aca246的修正错误历史记录压缩到92d473d的ReadMe.md中，按照下述的方法，将6aca246左侧的<code>pick</code>部分删除，改为<code>fixup</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pick 92d473d ReadMe.md</span><br><span class="line">fixup 6aca246 修正了部分错误</span><br></pre></td></tr></table></figure><p>修改完成后，关闭编辑器，系统提示<code>Rebase</code>成功：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205193849481.png" alt="image-20220205193849481" style="zoom:57%;" /></p><p>也就是说将两个提交作为对象，合并到了第一次提交的时候成了一个新的提交。</p><p>现在再查看提交日志会发现最新的提交日志已经合并一个切之前写的描述信息也已经不见了，这证明提交已经被修改了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205194109469.png" alt="image-20220205194109469" style="zoom:67%;" /></p></li><li><p><strong>合并到<code>master</code>分支</strong></p><p>现在将分支<code>C</code>可以合并到主分支<code>master</code>了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205194338635.png" alt="image-20220205194338635" style="zoom:57%;" /></p></li></ul><h1 id="推送至远程仓库"><a href="#推送至远程仓库" class="headerlink" title="推送至远程仓库"></a>推送至远程仓库</h1><p>Git是分散型版本管理系统，前面的操作都是针对单一本地仓库的操作。现在来尝试对远程仓库进行操作。现在首先在GitHub上创建一个仓库，不需要勾选<code>README</code>选项。仓库名称随意，此处演示远程仓库名称为TestGit。</p><h2 id="git-remote-add——添加远程仓库"><a href="#git-remote-add——添加远程仓库" class="headerlink" title="git remote add——添加远程仓库"></a><strong><code>git remote add</code>——添加远程仓库</strong></h2><p><strong>在GitHub上创建的仓库路径为”git@github.com:用户名/仓库名称.git”</strong>。现在来使用<code>git remote add</code>命令将其设置成本地仓库的远程仓库。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令格式：</span></span><br><span class="line">git remote add &lt;shortname&gt; &lt;url&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令示例：</span></span><br><span class="line">git remote add test git@github.com:L-Seraphine/TestGit.git</span><br></pre></td></tr></table></figure><p><strong>根据上述命令，将地址为：git@github.com:L-Seraphine/TestGit.git远程仓库的名称设置为：test（标识符）。可以通过标识符快速表示该地址的远程仓库</strong>。</p><h2 id="git-push——推送至远程仓库"><a href="#git-push——推送至远程仓库" class="headerlink" title="git push——推送至远程仓库"></a><strong><code>git push</code>——推送至远程仓库</strong></h2><ul><li><p><strong>推送至<code>master</code>分支</strong></p><p>如果想将当前分支下本地仓库中的内容推送给远程仓库，需要用到<code>git push</code>命令。现在假定我们在<code>master</code>分支下进行操作。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u test master</span><br></pre></td></tr></table></figure><p>执行如上命令，当前分支的内容会被推送给远程仓库TestGit的<code>mastet</code>分支。<code>-u</code>参数可以在推送时，将远程仓库的<code>master</code>分支设置为本地仓库当前分支的upstream(上游)。添加这个参数，将来运行<code>git pull</code>命令从远程仓库获取内容时，本地仓库的这个分支就可以直接从远程仓库的<code>master</code>分支获取内容，省去了另外添加参数的麻烦。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205205105145.png" alt="image-20220205205105145" style="zoom:67%;" /></p><p>执行该操作后，当前本地仓库的<code>master</code>分支的内容就会被推送到GitHub的远程仓库中。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205205151846.png" alt="image-20220205205151846" style="zoom:67%;" /></p></li><li><p><strong>推送至<code>master</code>以外的分支</strong></p><p>除了<code>master</code>分支之外，远程仓库也可以创建其他分支。现在我们在本地仓库创建分支<code>D</code>,并将它推送至远程的同名分支。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205205512167.png" alt="image-20220205205512167" style="zoom:67%;" /></p><p>现在，在远程仓库的GitHub页面就可以看到分支<code>D</code>了。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205205548606.png" alt="image-20220205205548606" style="zoom: 80%;" /></p></li></ul><h1 id="从远程仓库获取"><a href="#从远程仓库获取" class="headerlink" title="从远程仓库获取"></a>从远程仓库获取</h1><p>上部分我们将GitHub上的远程仓库<code>push</code>了分支D。现在，所有能够访问这个远程仓库的人都可以获取分支<code>D</code>并加以修改。</p><h2 id="git-clone——获取远程仓库"><a href="#git-clone——获取远程仓库" class="headerlink" title="git clone——获取远程仓库"></a><strong><code>git clone</code>——获取远程仓库</strong></h2><p><code>git clone</code>命令在很早之前就使用过，语法格式和操作方法不再说明。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205210223590.png" alt="image-20220205210223590" style="zoom:67%;" /></p><p><strong>执行<code>git clone</code>命令后默认我们会处于<code>master</code>分支下，同时系统会自动将<code>origin</code>设置为该远程仓库的标识符</strong>。也就是说，当前本地仓库的<code>master</code>分支和远程仓库的<code>master</code>分支的内容是完全一致的。</p><p>我们使用<code>git branch -a</code>命令查看当前分支的相关信息。添加<code>-a</code>参数可以同时显示本地仓库和远程仓库的分支信息。</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205210716346.png" alt="image-20220205210716346" style="zoom:67%;" /></p><h2 id="获取远程仓库的分支D"><a href="#获取远程仓库的分支D" class="headerlink" title="获取远程仓库的分支D"></a>获取远程仓库的分支D</h2><p>使用如下命令将指定获取远程仓库的分支：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b D origin/D</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">D的意思是创建本地分支名称</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">origin是默认的远程仓库的标识符</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">origin/D是远程仓库的分支D的路径</span></span><br></pre></td></tr></table></figure><p>现在假定我们是另一个开发者，需要做一个新的提交。在ReadMe.md文件中添加一行文字，如下：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205211918862.png" alt="image-20220205211918862" style="zoom: 67%;" /></p><p>然后提交即可：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205212058588.png" alt="image-20220205212058588" style="zoom:67%;" /></p><p>然后远程推送即可：</p><p><img src="https://wordpress-serverless-code-ap-beijing-1303234197.cos.ap-beijing.myqcloud.com/PicGo/image-20220205212202257.png" alt="image-20220205212202257" style="zoom: 65%;" /></p><h2 id="git-pull——获取最新的远程仓库分支"><a href="#git-pull——获取最新的远程仓库分支" class="headerlink" title="git pull——获取最新的远程仓库分支"></a><strong><code>git pull</code>——获取最新的远程仓库分支</strong></h2><p>当远程仓库的内容更新了，需要拉取，则可以通过如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull 远程仓库标识符 分支名称</span><br></pre></td></tr></table></figure><p>来获取远程仓库，对本地仓库进行更新。</p>]]></content>
      
      
      <categories>
          
          <category> 技术杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
